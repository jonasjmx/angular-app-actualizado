{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/HP/Desktop/angular-app-actualizado/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { UserService } from \"../services/user.service\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/user.service\";\nfunction UsersComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.error);\n  }\n}\nfunction UsersComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r1.success);\n  }\n}\nfunction UsersComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Cargando usuarios...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsersComponent_table_11_tr_18_img_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 16);\n  }\n  if (rf & 2) {\n    const u_r12 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"src\", \"data:image/jpeg;base64,\" + u_r12.profileImage, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction UsersComponent_table_11_tr_18_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵtext(1, \"Sin foto\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsersComponent_table_11_tr_18_span_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const r_r18 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", r_r18, \" \");\n  }\n}\nfunction UsersComponent_table_11_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtemplate(2, UsersComponent_table_11_tr_18_img_2_Template, 1, 1, \"img\", 12);\n    i0.ɵɵtemplate(3, UsersComponent_table_11_tr_18_ng_template_3_Template, 2, 0, \"ng-template\", null, 13, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtemplate(12, UsersComponent_table_11_tr_18_span_12_Template, 2, 1, \"span\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\")(16, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function UsersComponent_table_11_tr_18_Template_button_click_16_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r20);\n      const u_r12 = restoredCtx.$implicit;\n      const ctx_r19 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r19.openEditModal(u_r12));\n    });\n    i0.ɵɵtext(17, \"\\u270F\\uFE0F\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function UsersComponent_table_11_tr_18_Template_button_click_18_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r20);\n      const u_r12 = restoredCtx.$implicit;\n      const ctx_r21 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r21.openDeleteModal(u_r12));\n    });\n    i0.ɵɵtext(19, \"\\uD83D\\uDDD1\\uFE0F\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const u_r12 = ctx.$implicit;\n    const _r14 = i0.ɵɵreference(4);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", u_r12.profileImage)(\"ngIfElse\", _r14);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(u_r12.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(u_r12.firstName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(u_r12.lastName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", u_r12.roles);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(u_r12.lockoutEnabled ? \"S\\u00ED\" : \"No\");\n  }\n}\nfunction UsersComponent_table_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 10)(1, \"thead\")(2, \"tr\")(3, \"th\");\n    i0.ɵɵtext(4, \"Foto\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Nombres\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"Apellidos\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \"Roles\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\");\n    i0.ɵɵtext(14, \"Bloqueado\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"th\");\n    i0.ɵɵtext(16, \"Acciones\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(17, \"tbody\");\n    i0.ɵɵtemplate(18, UsersComponent_table_11_tr_18_Template, 20, 7, \"tr\", 11);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(18);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.users);\n  }\n}\nfunction UsersComponent_p_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \" No hay usuarios registrados. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsersComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Cargando roles...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsersComponent_ul_17_li_1_span_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const p_r25 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", p_r25, \" | \");\n  }\n}\nfunction UsersComponent_ul_17_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"strong\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵtext(4, \" Permisos: \");\n    i0.ɵɵtemplate(5, UsersComponent_ul_17_li_1_span_5_Template, 2, 1, \"span\", 11);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const r_r23 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(r_r23.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", r_r23.permissions);\n  }\n}\nfunction UsersComponent_ul_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\");\n    i0.ɵɵtemplate(1, UsersComponent_ul_17_li_1_Template, 6, 2, \"li\", 11);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r6.roles);\n  }\n}\nfunction UsersComponent_div_18_div_11_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Este campo es obligatorio.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsersComponent_div_18_div_11_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Ingrese un email v\\u00E1lido.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsersComponent_div_18_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35);\n    i0.ɵɵtemplate(1, UsersComponent_div_18_div_11_span_1_Template, 2, 0, \"span\", 5);\n    i0.ɵɵtemplate(2, UsersComponent_div_18_div_11_span_2_Template, 2, 0, \"span\", 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r27 = i0.ɵɵreference(10);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r27.errors == null ? null : _r27.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (_r27.errors == null ? null : _r27.errors[\"email\"]) || (_r27.errors == null ? null : _r27.errors[\"pattern\"]));\n  }\n}\nfunction UsersComponent_div_18_div_17_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Este campo es obligatorio.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsersComponent_div_18_div_17_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" La contrase\\u00F1a debe tener m\\u00EDnimo 8 caracteres, may\\u00FAscula, min\\u00FAscula, n\\u00FAmero y s\\u00EDmbolo. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsersComponent_div_18_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35);\n    i0.ɵɵtemplate(1, UsersComponent_div_18_div_17_span_1_Template, 2, 0, \"span\", 5);\n    i0.ɵɵtemplate(2, UsersComponent_div_18_div_17_span_2_Template, 2, 0, \"span\", 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r29 = i0.ɵɵreference(16);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r29.errors == null ? null : _r29.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r29.errors == null ? null : _r29.errors[\"pattern\"]);\n  }\n}\nfunction UsersComponent_div_18_div_23_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Este campo es obligatorio.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsersComponent_div_18_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35);\n    i0.ɵɵtemplate(1, UsersComponent_div_18_div_23_span_1_Template, 2, 0, \"span\", 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r31 = i0.ɵɵreference(22);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r31.errors == null ? null : _r31.errors[\"required\"]);\n  }\n}\nfunction UsersComponent_div_18_div_29_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Este campo es obligatorio.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsersComponent_div_18_div_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35);\n    i0.ɵɵtemplate(1, UsersComponent_div_18_div_29_span_1_Template, 2, 0, \"span\", 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r33 = i0.ɵɵreference(28);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r33.errors == null ? null : _r33.errors[\"required\"]);\n  }\n}\nfunction UsersComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r42 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 18)(1, \"div\", 19)(2, \"h2\");\n    i0.ɵɵtext(3, \"Crear usuario\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"form\", 20, 21);\n    i0.ɵɵlistener(\"ngSubmit\", function UsersComponent_div_18_Template_form_ngSubmit_4_listener() {\n      i0.ɵɵrestoreView(_r42);\n      const ctx_r41 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r41.register());\n    });\n    i0.ɵɵelementStart(6, \"div\", 22)(7, \"label\");\n    i0.ɵɵtext(8, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"input\", 23, 24);\n    i0.ɵɵlistener(\"ngModelChange\", function UsersComponent_div_18_Template_input_ngModelChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r42);\n      const ctx_r43 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r43.newUser.email = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(11, UsersComponent_div_18_div_11_Template, 3, 2, \"div\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 22)(13, \"label\");\n    i0.ɵɵtext(14, \"Contrase\\u00F1a\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"input\", 26, 27);\n    i0.ɵɵlistener(\"ngModelChange\", function UsersComponent_div_18_Template_input_ngModelChange_15_listener($event) {\n      i0.ɵɵrestoreView(_r42);\n      const ctx_r44 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r44.newUser.password = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(17, UsersComponent_div_18_div_17_Template, 3, 2, \"div\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\", 22)(19, \"label\");\n    i0.ɵɵtext(20, \"Nombres\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"input\", 28, 29);\n    i0.ɵɵlistener(\"ngModelChange\", function UsersComponent_div_18_Template_input_ngModelChange_21_listener($event) {\n      i0.ɵɵrestoreView(_r42);\n      const ctx_r45 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r45.newUser.firstName = $event);\n    })(\"input\", function UsersComponent_div_18_Template_input_input_21_listener() {\n      i0.ɵɵrestoreView(_r42);\n      const ctx_r46 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r46.sanitizeNameInput(ctx_r46.newUser, \"firstName\"));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(23, UsersComponent_div_18_div_23_Template, 2, 1, \"div\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"div\", 22)(25, \"label\");\n    i0.ɵɵtext(26, \"Apellidos\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"input\", 30, 31);\n    i0.ɵɵlistener(\"ngModelChange\", function UsersComponent_div_18_Template_input_ngModelChange_27_listener($event) {\n      i0.ɵɵrestoreView(_r42);\n      const ctx_r47 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r47.newUser.lastName = $event);\n    })(\"input\", function UsersComponent_div_18_Template_input_input_27_listener() {\n      i0.ɵɵrestoreView(_r42);\n      const ctx_r48 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r48.sanitizeNameInput(ctx_r48.newUser, \"lastName\"));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(29, UsersComponent_div_18_div_29_Template, 2, 1, \"div\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"div\", 32)(31, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function UsersComponent_div_18_Template_button_click_31_listener() {\n      i0.ɵɵrestoreView(_r42);\n      const ctx_r49 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r49.closeCreateModal());\n    });\n    i0.ɵɵtext(32, \"Cancelar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"button\", 34);\n    i0.ɵɵtext(34, \" Crear usuario \");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const _r26 = i0.ɵɵreference(5);\n    const _r27 = i0.ɵɵreference(10);\n    const _r29 = i0.ɵɵreference(16);\n    const _r31 = i0.ɵɵreference(22);\n    const _r33 = i0.ɵɵreference(28);\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵclassProp(\"input-error\", _r27.invalid && (_r27.dirty || _r27.touched));\n    i0.ɵɵproperty(\"ngModel\", ctx_r7.newUser.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r27.invalid && (_r27.dirty || _r27.touched));\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassProp(\"input-error\", _r29.invalid && (_r29.dirty || _r29.touched));\n    i0.ɵɵproperty(\"ngModel\", ctx_r7.newUser.password)(\"pattern\", ctx_r7.passwordPattern);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r29.invalid && (_r29.dirty || _r29.touched));\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassProp(\"input-error\", _r31.invalid && (_r31.dirty || _r31.touched));\n    i0.ɵɵproperty(\"ngModel\", ctx_r7.newUser.firstName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r31.invalid && (_r31.dirty || _r31.touched));\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassProp(\"input-error\", _r33.invalid && (_r33.dirty || _r33.touched));\n    i0.ɵɵproperty(\"ngModel\", ctx_r7.newUser.lastName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r33.invalid && (_r33.dirty || _r33.touched));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"disabled\", _r26.invalid);\n  }\n}\nfunction UsersComponent_div_19_div_11_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Este campo es obligatorio.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsersComponent_div_19_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35);\n    i0.ɵɵtemplate(1, UsersComponent_div_19_div_11_span_1_Template, 2, 0, \"span\", 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r51 = i0.ɵɵreference(10);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r51.errors == null ? null : _r51.errors[\"required\"]);\n  }\n}\nfunction UsersComponent_div_19_div_17_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Este campo es obligatorio.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsersComponent_div_19_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35);\n    i0.ɵɵtemplate(1, UsersComponent_div_19_div_17_span_1_Template, 2, 0, \"span\", 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r53 = i0.ɵɵreference(16);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r53.errors == null ? null : _r53.errors[\"required\"]);\n  }\n}\nfunction UsersComponent_div_19_div_23_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" El tel\\u00E9fono debe tener 10 d\\u00EDgitos num\\u00E9ricos. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsersComponent_div_19_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35);\n    i0.ɵɵtemplate(1, UsersComponent_div_19_div_23_span_1_Template, 2, 0, \"span\", 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r55 = i0.ɵɵreference(22);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r55.errors == null ? null : _r55.errors[\"pattern\"]);\n  }\n}\nfunction UsersComponent_div_19_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35);\n    i0.ɵɵtext(1, \" El n\\u00FAmero de tel\\u00E9fono no es v\\u00E1lido. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsersComponent_div_19_span_44_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const rn_r73 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", rn_r73, \" \");\n  }\n}\nfunction UsersComponent_div_19_span_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtemplate(1, UsersComponent_div_19_span_44_span_1_Template, 2, 1, \"span\", 11);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r58 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r58.editUserRoles);\n  }\n}\nfunction UsersComponent_div_19_ng_template_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \" Este usuario no tiene roles asignados. \");\n  }\n}\nfunction UsersComponent_div_19_div_47_option_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 60);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const rn_r75 = ctx.$implicit;\n    const ctx_r74 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"value\", ctx_r74.findRoleIdByName(rn_r75));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", rn_r75, \" \");\n  }\n}\nfunction UsersComponent_div_19_div_47_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r77 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 22)(1, \"label\");\n    i0.ɵɵtext(2, \"Rol actual\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"select\", 59);\n    i0.ɵɵlistener(\"ngModelChange\", function UsersComponent_div_19_div_47_Template_select_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r77);\n      const ctx_r76 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r76.editCurrentRoleId = $event);\n    });\n    i0.ɵɵtemplate(4, UsersComponent_div_19_div_47_option_4_Template, 2, 2, \"option\", 52);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r61 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r61.editCurrentRoleId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r61.editUserRoles);\n  }\n}\nfunction UsersComponent_div_19_option_54_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 60);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const r_r78 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", r_r78.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(r_r78.name);\n  }\n}\nfunction UsersComponent_div_19_button_58_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r80 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function UsersComponent_div_19_button_58_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r80);\n      const ctx_r79 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r79.removeRole());\n    });\n    i0.ɵɵtext(1, \" Quitar rol \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsersComponent_div_19_div_66_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Cargando imagen...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsersComponent_div_19_div_67_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 61);\n    i0.ɵɵelement(1, \"img\", 62);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r65 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r65.currentUserImageSrc, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction UsersComponent_div_19_ng_template_68_p_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 53);\n    i0.ɵɵtext(1, \" Este usuario no tiene imagen de perfil. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsersComponent_div_19_ng_template_68_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, UsersComponent_div_19_ng_template_68_p_0_Template, 2, 0, \"p\", 63);\n  }\n  if (rf & 2) {\n    const ctx_r67 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r67.loadingImage);\n  }\n}\nfunction UsersComponent_div_19_button_75_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r83 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function UsersComponent_div_19_button_75_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r83);\n      const ctx_r82 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r82.deleteUserImage());\n    });\n    i0.ɵɵtext(1, \" Eliminar imagen \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsersComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r85 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 18)(1, \"div\", 19)(2, \"h2\");\n    i0.ɵɵtext(3, \"Editar usuario\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"form\", 20, 36);\n    i0.ɵɵlistener(\"ngSubmit\", function UsersComponent_div_19_Template_form_ngSubmit_4_listener() {\n      i0.ɵɵrestoreView(_r85);\n      const ctx_r84 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r84.saveEdit());\n    });\n    i0.ɵɵelementStart(6, \"div\", 22)(7, \"label\");\n    i0.ɵɵtext(8, \"Nombres\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"input\", 37, 38);\n    i0.ɵɵlistener(\"ngModelChange\", function UsersComponent_div_19_Template_input_ngModelChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r85);\n      const ctx_r86 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r86.editUser.firstName = $event);\n    })(\"input\", function UsersComponent_div_19_Template_input_input_9_listener() {\n      i0.ɵɵrestoreView(_r85);\n      const ctx_r87 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r87.sanitizeNameInput(ctx_r87.editUser, \"firstName\"));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(11, UsersComponent_div_19_div_11_Template, 2, 1, \"div\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 22)(13, \"label\");\n    i0.ɵɵtext(14, \"Apellidos\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"input\", 39, 40);\n    i0.ɵɵlistener(\"ngModelChange\", function UsersComponent_div_19_Template_input_ngModelChange_15_listener($event) {\n      i0.ɵɵrestoreView(_r85);\n      const ctx_r88 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r88.editUser.lastName = $event);\n    })(\"input\", function UsersComponent_div_19_Template_input_input_15_listener() {\n      i0.ɵɵrestoreView(_r85);\n      const ctx_r89 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r89.sanitizeNameInput(ctx_r89.editUser, \"lastName\"));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(17, UsersComponent_div_19_div_17_Template, 2, 1, \"div\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\", 22)(19, \"label\");\n    i0.ɵɵtext(20, \"Tel\\u00E9fono\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"input\", 41, 42);\n    i0.ɵɵlistener(\"ngModelChange\", function UsersComponent_div_19_Template_input_ngModelChange_21_listener($event) {\n      i0.ɵɵrestoreView(_r85);\n      const ctx_r90 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r90.editUser.phoneNumber = $event);\n    })(\"keypress\", function UsersComponent_div_19_Template_input_keypress_21_listener($event) {\n      i0.ɵɵrestoreView(_r85);\n      const ctx_r91 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r91.allowOnlyNumbers($event));\n    })(\"blur\", function UsersComponent_div_19_Template_input_blur_21_listener() {\n      i0.ɵɵrestoreView(_r85);\n      const ctx_r92 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r92.phoneEditInvalid = !!ctx_r92.editUser.phoneNumber && !ctx_r92.validatePhone(ctx_r92.editUser.phoneNumber));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(23, UsersComponent_div_19_div_23_Template, 2, 1, \"div\", 25);\n    i0.ɵɵtemplate(24, UsersComponent_div_19_div_24_Template, 2, 0, \"div\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"div\", 22)(26, \"label\")(27, \"input\", 43);\n    i0.ɵɵlistener(\"ngModelChange\", function UsersComponent_div_19_Template_input_ngModelChange_27_listener($event) {\n      i0.ɵɵrestoreView(_r85);\n      const ctx_r93 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r93.editUser.emailConfirmed = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(28, \" Email confirmado \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(29, \"div\", 22)(30, \"label\")(31, \"input\", 44);\n    i0.ɵɵlistener(\"ngModelChange\", function UsersComponent_div_19_Template_input_ngModelChange_31_listener($event) {\n      i0.ɵɵrestoreView(_r85);\n      const ctx_r94 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r94.editUser.lockoutEnabled = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(32, \" Bloqueado \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(33, \"div\", 32)(34, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function UsersComponent_div_19_Template_button_click_34_listener() {\n      i0.ɵɵrestoreView(_r85);\n      const ctx_r95 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r95.closeEditModal());\n    });\n    i0.ɵɵtext(35, \"Cerrar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"button\", 34);\n    i0.ɵɵtext(37, \" Guardar datos \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(38, \"hr\");\n    i0.ɵɵelementStart(39, \"div\", 45)(40, \"div\", 22)(41, \"label\");\n    i0.ɵɵtext(42, \"Roles actuales\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(43, \"p\", 46);\n    i0.ɵɵtemplate(44, UsersComponent_div_19_span_44_Template, 2, 1, \"span\", 47);\n    i0.ɵɵtemplate(45, UsersComponent_div_19_ng_template_45_Template, 1, 0, \"ng-template\", null, 48, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(47, UsersComponent_div_19_div_47_Template, 5, 2, \"div\", 49);\n    i0.ɵɵelementStart(48, \"div\", 22)(49, \"label\");\n    i0.ɵɵtext(50, \"Nuevo rol\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(51, \"select\", 50);\n    i0.ɵɵlistener(\"ngModelChange\", function UsersComponent_div_19_Template_select_ngModelChange_51_listener($event) {\n      i0.ɵɵrestoreView(_r85);\n      const ctx_r96 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r96.editNewRoleId = $event);\n    });\n    i0.ɵɵelementStart(52, \"option\", 51);\n    i0.ɵɵtext(53, \"-- Seleccione un rol --\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(54, UsersComponent_div_19_option_54_Template, 2, 2, \"option\", 52);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(55, \"small\", 53);\n    i0.ɵɵtext(56, \" Si el usuario no tiene rol, se asignar\\u00E1 el nuevo. Si ya tiene, se reemplazar\\u00E1 el rol seleccionado. \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(57, \"div\", 32);\n    i0.ɵɵtemplate(58, UsersComponent_div_19_button_58_Template, 2, 0, \"button\", 54);\n    i0.ɵɵelementStart(59, \"button\", 55);\n    i0.ɵɵlistener(\"click\", function UsersComponent_div_19_Template_button_click_59_listener() {\n      i0.ɵɵrestoreView(_r85);\n      const ctx_r97 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r97.changeRole());\n    });\n    i0.ɵɵtext(60, \"Guardar rol\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(61, \"hr\");\n    i0.ɵɵelementStart(62, \"div\", 45)(63, \"div\", 22)(64, \"label\");\n    i0.ɵɵtext(65, \"Imagen de perfil\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(66, UsersComponent_div_19_div_66_Template, 2, 0, \"div\", 5);\n    i0.ɵɵtemplate(67, UsersComponent_div_19_div_67_Template, 2, 1, \"div\", 56);\n    i0.ɵɵtemplate(68, UsersComponent_div_19_ng_template_68_Template, 1, 1, \"ng-template\", null, 57, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(70, \"div\", 22)(71, \"input\", 58);\n    i0.ɵɵlistener(\"change\", function UsersComponent_div_19_Template_input_change_71_listener($event) {\n      i0.ɵɵrestoreView(_r85);\n      const ctx_r98 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r98.onImageSelected($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(72, \"small\", 53);\n    i0.ɵɵtext(73, \" Selecciona una imagen (jpg, png, etc.). Se enviar\\u00E1 en base64 al servidor. \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(74, \"div\", 32);\n    i0.ɵɵtemplate(75, UsersComponent_div_19_button_75_Template, 2, 0, \"button\", 54);\n    i0.ɵɵelementStart(76, \"button\", 55);\n    i0.ɵɵlistener(\"click\", function UsersComponent_div_19_Template_button_click_76_listener() {\n      i0.ɵɵrestoreView(_r85);\n      const ctx_r99 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r99.saveUserImage());\n    });\n    i0.ɵɵtext(77, \" Guardar imagen \");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const _r50 = i0.ɵɵreference(5);\n    const _r51 = i0.ɵɵreference(10);\n    const _r53 = i0.ɵɵreference(16);\n    const _r55 = i0.ɵɵreference(22);\n    const _r59 = i0.ɵɵreference(46);\n    const _r66 = i0.ɵɵreference(69);\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵclassProp(\"input-error\", _r51.invalid && (_r51.dirty || _r51.touched));\n    i0.ɵɵproperty(\"ngModel\", ctx_r8.editUser.firstName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r51.invalid && (_r51.dirty || _r51.touched));\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassProp(\"input-error\", _r53.invalid && (_r53.dirty || _r53.touched));\n    i0.ɵɵproperty(\"ngModel\", ctx_r8.editUser.lastName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r53.invalid && (_r53.dirty || _r53.touched));\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassProp(\"input-error\", _r55.invalid || ctx_r8.phoneEditInvalid);\n    i0.ɵɵproperty(\"ngModel\", ctx_r8.editUser.phoneNumber);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r55.invalid && (_r55.dirty || _r55.touched));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !_r55.invalid && ctx_r8.phoneEditInvalid);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r8.editUser.emailConfirmed);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r8.editUser.lockoutEnabled);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"disabled\", _r50.invalid || ctx_r8.phoneEditInvalid);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngIf\", ctx_r8.editUserRoles.length)(\"ngIfElse\", _r59);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r8.editUserRoles.length > 0);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r8.editNewRoleId);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r8.roles);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r8.editUserRoles.length > 0);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngIf\", ctx_r8.loadingImage);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r8.currentUserImageSrc && !ctx_r8.loadingImage)(\"ngIfElse\", _r66);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngIf\", ctx_r8.hasUserImage);\n  }\n}\nfunction UsersComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r101 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 18)(1, \"div\", 64)(2, \"h2\");\n    i0.ɵɵtext(3, \"\\u00BFEst\\u00E1s seguro?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5, \" Est\\u00E1s a punto de eliminar al usuario:\");\n    i0.ɵɵelement(6, \"br\");\n    i0.ɵɵelementStart(7, \"strong\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"p\", 65);\n    i0.ɵɵtext(10, \" Esta acci\\u00F3n es irreversible y eliminar\\u00E1 todos sus datos. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 66)(12, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function UsersComponent_div_20_Template_button_click_12_listener() {\n      i0.ɵɵrestoreView(_r101);\n      const ctx_r100 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r100.closeDeleteModal());\n    });\n    i0.ɵɵtext(13, \"Cancelar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"button\", 67);\n    i0.ɵɵlistener(\"click\", function UsersComponent_div_20_Template_button_click_14_listener() {\n      i0.ɵɵrestoreView(_r101);\n      const ctx_r102 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r102.confirmDelete());\n    });\n    i0.ɵɵtext(15, \"Eliminar Definitivamente\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(ctx_r9.userToDelete == null ? null : ctx_r9.userToDelete.email);\n  }\n}\nfunction UsersComponent_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r104 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 18)(1, \"div\", 64)(2, \"h2\", 68);\n    i0.ɵɵtext(3, \"\\u26A0\\uFE0F Error\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 69);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 66)(7, \"button\", 55);\n    i0.ɵɵlistener(\"click\", function UsersComponent_div_21_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r104);\n      const ctx_r103 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r103.closeErrorModal());\n    });\n    i0.ɵɵtext(8, \"Aceptar\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r10.modalErrorMessage, \" \");\n  }\n}\nexport let UsersComponent = /*#__PURE__*/(() => {\n  class UsersComponent {\n    constructor(userSvc) {\n      this.userSvc = userSvc;\n      this.users = [];\n      this.roles = [];\n      this.loadingUsers = true;\n      this.loadingRoles = true;\n      // Alertbox superior para mensajes de éxito/error general\n      this.error = \"\";\n      this.success = \"\";\n      // Variables para el modal de error (para duplicidad, etc.)\n      this.isErrorModalOpen = false;\n      this.modalErrorMessage = \"\";\n      // Regex de Contraseña Segura:\n      // Al menos 1 mayúscula, 1 minúscula, 1 número, 1 carácter especial, min 8 caracteres\n      this.passwordPattern = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[$@$!%*?&])[A-Za-z\\d$@$!%*?&]{8,}$/;\n      // ----------- CREAR USUARIO (MODAL) -----------\n      this.isCreateModalOpen = false;\n      this.newUser = {\n        email: \"\",\n        password: \"\",\n        firstName: \"\",\n        lastName: \"\"\n      };\n      // ----------- EDITAR USUARIO (MODAL) -----------\n      this.isEditModalOpen = false;\n      this.editUserId = null;\n      this.editUser = {\n        firstName: \"\",\n        lastName: \"\",\n        phoneNumber: \"\",\n        emailConfirmed: false,\n        lockoutEnabled: false,\n        lockoutEnd: null\n      };\n      // Roles dentro del modal de edición\n      this.editUserRoles = [];\n      this.editCurrentRoleId = \"\";\n      this.editNewRoleId = \"\";\n      // ----------- ELIMINAR USUARIO (MODAL) -----------\n      this.isDeleteModalOpen = false;\n      this.userToDelete = null;\n      // ========== IMAGEN DE USUARIO ==========\n      this.currentUserImageSrc = null;\n      this.selectedImageBase64 = null;\n      this.hasUserImage = false;\n      this.loadingImage = false;\n      // ========== VALIDACIONES EXTRA ==========\n      this.phoneEditInvalid = false;\n    }\n    ngOnInit() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        yield _this.loadUsers();\n        yield _this.loadRoles();\n      })();\n    }\n    // ------------ CARGAS INICIALES ------------\n    loadUsers() {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        _this2.loadingUsers = true;\n        try {\n          _this2.users = yield _this2.userSvc.getUsers();\n          // Cargar foto de cada usuario\n          for (let u of _this2.users) {\n            try {\n              const img = yield _this2.userSvc.getUserImage(u.id);\n              u.profileImage = img;\n            } catch {\n              u.profileImage = null;\n            }\n          }\n          _this2.loadingUsers = false;\n        } catch (err) {\n          console.error(err);\n          _this2.error = \"Error al cargar usuarios\";\n          _this2.loadingUsers = false;\n        }\n      })();\n    }\n    loadRoles() {\n      var _this3 = this;\n      return _asyncToGenerator(function* () {\n        try {\n          _this3.roles = yield _this3.userSvc.getRoles();\n          _this3.loadingRoles = false;\n        } catch (err) {\n          console.error(err);\n          _this3.error = \"Error al cargar roles\";\n          _this3.loadingRoles = false;\n        }\n      })();\n    }\n    // ============== MODAL DE ERROR GENÉRICO ==============\n    openErrorModal(message) {\n      this.modalErrorMessage = message;\n      this.isErrorModalOpen = true;\n    }\n    closeErrorModal() {\n      this.isErrorModalOpen = false;\n      this.modalErrorMessage = \"\";\n    }\n    // ============== VALIDACIÓN Y SANITIZACIÓN DE NOMBRES ==============\n    /**\n     * Se ejecuta en evento (input).\n     * Convierte a Mayúsculas y elimina todo lo que NO sea letra o espacio.\n     */\n    sanitizeNameInput(obj, field) {\n      if (!obj[field]) return;\n      // 1. Eliminar caracteres no permitidos (números, símbolos, excepto espacios)\n      // Se permite ñ y acentos.\n      let val = obj[field].replace(/[^a-zA-ZáéíóúÁÉÍÓÚñÑ\\s]/g, '');\n      // 2. Convertir a mayúsculas\n      obj[field] = val.toUpperCase();\n    }\n    // ============== CREAR USUARIO (MODAL) ==============\n    openCreateModal() {\n      this.error = \"\";\n      this.success = \"\";\n      this.newUser = {\n        email: \"\",\n        password: \"\",\n        firstName: \"\",\n        lastName: \"\"\n      };\n      this.isCreateModalOpen = true;\n    }\n    closeCreateModal() {\n      this.isCreateModalOpen = false;\n    }\n    register() {\n      var _this4 = this;\n      return _asyncToGenerator(function* () {\n        _this4.error = \"\";\n        _this4.success = \"\";\n        const email = _this4.newUser.email.trim();\n        const password = _this4.newUser.password;\n        const firstName = _this4.newUser.firstName.trim();\n        const lastName = _this4.newUser.lastName.trim();\n        // 1. Validar duplicidad de correo localmente (usando el modal de error)\n        const emailExists = _this4.users.some(u => u.email.toLowerCase() === email.toLowerCase());\n        if (emailExists) {\n          _this4.openErrorModal(\"Ya existe un correo similar registrado en el sistema.\");\n          return;\n        }\n        // 2. Validar complejidad de contraseña (aunque el HTML bloquea, siempre es bueno el doble check)\n        if (!_this4.passwordPattern.test(password)) {\n          _this4.openErrorModal(\"La contraseña no cumple con los requisitos de seguridad.\");\n          return;\n        }\n        if (!firstName || !lastName) {\n          // Esto debería ser capturado por el HTML, pero es una validación de fallback\n          _this4.openErrorModal(\"Nombres y apellidos son obligatorios.\");\n          return;\n        }\n        try {\n          yield _this4.userSvc.registerUser({\n            email,\n            password,\n            firstName,\n            lastName\n          });\n          _this4.success = \"Usuario registrado correctamente\";\n          yield _this4.loadUsers();\n          _this4.closeCreateModal();\n        } catch (err) {\n          console.error(err);\n          // Para errores de servidor (ej. el correo existe en la base de datos pero no en la lista local)\n          _this4.openErrorModal(\"No se pudo registrar el usuario. Verifique los datos o intente más tarde.\");\n        }\n      })();\n    }\n    // ============== EDITAR USUARIO (MODAL) ==============\n    openEditModal(user) {\n      var _this5 = this;\n      return _asyncToGenerator(function* () {\n        _this5.editUserId = user.id;\n        _this5.editUser = {\n          firstName: user.firstName || \"\",\n          lastName: user.lastName || \"\",\n          phoneNumber: user.phoneNumber || \"\",\n          emailConfirmed: !!user.emailConfirmed,\n          lockoutEnabled: !!user.lockoutEnabled,\n          lockoutEnd: user.lockoutEnd || null\n        };\n        // Asegurar mayúsculas al abrir\n        _this5.sanitizeNameInput(_this5.editUser, 'firstName');\n        _this5.sanitizeNameInput(_this5.editUser, 'lastName');\n        _this5.editUserRoles = user.roles || [];\n        if (_this5.editUserRoles.length > 0) {\n          _this5.editCurrentRoleId = _this5.findRoleIdByName(_this5.editUserRoles[0]);\n        } else {\n          _this5.editCurrentRoleId = \"\";\n        }\n        _this5.editNewRoleId = \"\";\n        _this5.isEditModalOpen = true;\n        _this5.error = \"\";\n        _this5.success = \"\";\n        _this5.phoneEditInvalid = false;\n        // ====== CARGAR IMAGEN DEL USUARIO ======\n        _this5.currentUserImageSrc = null;\n        _this5.selectedImageBase64 = null;\n        _this5.hasUserImage = false;\n        if (_this5.editUserId) {\n          yield _this5.loadUserImage(_this5.editUserId);\n        }\n      })();\n    }\n    closeEditModal() {\n      this.isEditModalOpen = false;\n      this.editUserId = null;\n      this.editUserRoles = [];\n      this.editCurrentRoleId = \"\";\n      this.editNewRoleId = \"\";\n      this.currentUserImageSrc = null;\n      this.selectedImageBase64 = null;\n      this.hasUserImage = false;\n      this.phoneEditInvalid = false;\n    }\n    saveEdit() {\n      var _this6 = this;\n      return _asyncToGenerator(function* () {\n        if (!_this6.editUserId) return;\n        _this6.error = \"\";\n        _this6.success = \"\";\n        const firstName = (_this6.editUser.firstName || \"\").trim();\n        const lastName = (_this6.editUser.lastName || \"\").trim();\n        const phone = (_this6.editUser.phoneNumber || \"\").trim();\n        if (!firstName || !lastName) {\n          _this6.openErrorModal(\"Nombres y apellidos son campos obligatorios.\");\n          return;\n        }\n        if (phone && !_this6.validatePhone(phone)) {\n          _this6.phoneEditInvalid = true;\n          _this6.openErrorModal(\"El número de teléfono no es válido (deben ser 10 dígitos).\");\n          return;\n        } else {\n          _this6.phoneEditInvalid = false;\n        }\n        _this6.editUser.firstName = firstName;\n        _this6.editUser.lastName = lastName;\n        _this6.editUser.phoneNumber = phone;\n        try {\n          yield _this6.userSvc.updateUser(_this6.editUserId, _this6.editUser);\n          _this6.success = \"Datos del usuario actualizados correctamente\";\n          yield _this6.loadUsers();\n        } catch (err) {\n          console.error(err);\n          _this6.error = \"No se pudieron actualizar los datos del usuario\";\n        }\n      })();\n    }\n    // ============== ROLES EN EL MODAL DE EDICIÓN ==============\n    findRoleIdByName(name) {\n      const r = this.roles.find(x => x.name === name);\n      return r ? r.id : \"\";\n    }\n    changeRole() {\n      var _this7 = this;\n      return _asyncToGenerator(function* () {\n        if (!_this7.editUserId) return;\n        _this7.error = \"\";\n        _this7.success = \"\";\n        try {\n          if (_this7.editUserRoles.length === 0) {\n            if (!_this7.editNewRoleId) {\n              _this7.openErrorModal(\"Seleccione un rol para asignar.\");\n              return;\n            }\n            yield _this7.userSvc.assignRoleToUser(_this7.editUserId, _this7.editNewRoleId);\n          } else {\n            if (!_this7.editCurrentRoleId || !_this7.editNewRoleId) {\n              _this7.openErrorModal(\"Seleccione el rol actual y el nuevo rol.\");\n              return;\n            }\n            yield _this7.userSvc.updateUserRole(_this7.editUserId, _this7.editCurrentRoleId, _this7.editNewRoleId);\n          }\n          _this7.success = \"Rol actualizado correctamente.\";\n          yield _this7.loadUsers();\n          _this7.refreshRolesLocalData();\n        } catch (err) {\n          console.error(err);\n          _this7.error = \"No se pudo actualizar el rol del usuario.\";\n        }\n      })();\n    }\n    removeRole() {\n      var _this8 = this;\n      return _asyncToGenerator(function* () {\n        if (!_this8.editUserId || !_this8.editCurrentRoleId) {\n          _this8.openErrorModal(\"Seleccione un rol a eliminar.\");\n          return;\n        }\n        _this8.error = \"\";\n        _this8.success = \"\";\n        try {\n          yield _this8.userSvc.removeUserRole(_this8.editUserId, _this8.editCurrentRoleId);\n          _this8.success = \"Rol eliminado del usuario.\";\n          yield _this8.loadUsers();\n          _this8.refreshRolesLocalData();\n        } catch (err) {\n          console.error(err);\n          _this8.error = \"No se pudo quitar el rol del usuario.\";\n        }\n      })();\n    }\n    refreshRolesLocalData() {\n      const updated = this.users.find(u => u.id === this.editUserId);\n      this.editUserRoles = updated?.roles || [];\n      if (this.editUserRoles.length > 0) {\n        this.editCurrentRoleId = this.findRoleIdByName(this.editUserRoles[0]);\n      } else {\n        this.editCurrentRoleId = \"\";\n      }\n      this.editNewRoleId = \"\";\n    }\n    // ============== ELIMINAR USUARIO (MODAL) ==============\n    openDeleteModal(user) {\n      this.userToDelete = user;\n      this.isDeleteModalOpen = true;\n      this.error = \"\";\n      this.success = \"\";\n    }\n    closeDeleteModal() {\n      this.isDeleteModalOpen = false;\n      this.userToDelete = null;\n    }\n    confirmDelete() {\n      var _this9 = this;\n      return _asyncToGenerator(function* () {\n        if (!_this9.userToDelete) return;\n        _this9.error = \"\";\n        _this9.success = \"\";\n        try {\n          yield _this9.userSvc.deleteUser(_this9.userToDelete.id);\n          _this9.success = \"Usuario eliminado correctamente\";\n          yield _this9.loadUsers();\n          _this9.closeDeleteModal();\n        } catch (err) {\n          console.error(err);\n          _this9.error = \"No se pudo eliminar el usuario\";\n          _this9.closeDeleteModal();\n        }\n      })();\n    }\n    // ============== IMAGEN DE USUARIO ==============\n    loadUserImage(userId) {\n      var _this0 = this;\n      return _asyncToGenerator(function* () {\n        _this0.loadingImage = true;\n        try {\n          const base64 = yield _this0.userSvc.getUserImage(userId);\n          if (base64) {\n            _this0.currentUserImageSrc = `data:image/jpeg;base64,${base64}`;\n            _this0.hasUserImage = true;\n          } else {\n            _this0.currentUserImageSrc = null;\n            _this0.hasUserImage = false;\n          }\n        } catch (err) {\n          console.error(err);\n        } finally {\n          _this0.loadingImage = false;\n        }\n      })();\n    }\n    onImageSelected(event) {\n      const file = event.target.files?.[0];\n      if (!file) return;\n      if (!file.type.startsWith(\"image/\")) {\n        this.error = \"El archivo seleccionado no es una imagen.\";\n        return;\n      }\n      const reader = new FileReader();\n      reader.onload = () => {\n        const result = reader.result;\n        const base64 = result.split(\",\")[1];\n        this.selectedImageBase64 = base64;\n        this.currentUserImageSrc = result;\n      };\n      reader.readAsDataURL(file);\n    }\n    saveUserImage() {\n      var _this1 = this;\n      return _asyncToGenerator(function* () {\n        if (!_this1.editUserId) return;\n        _this1.error = \"\";\n        _this1.success = \"\";\n        if (!_this1.selectedImageBase64) {\n          _this1.openErrorModal(\"Seleccione una imagen antes de guardar.\");\n          return;\n        }\n        try {\n          if (_this1.hasUserImage) {\n            yield _this1.userSvc.updateUserImage(_this1.editUserId, _this1.selectedImageBase64);\n          } else {\n            yield _this1.userSvc.createUserImage(_this1.editUserId, _this1.selectedImageBase64);\n          }\n          _this1.hasUserImage = true;\n          _this1.success = \"Imagen de usuario guardada correctamente.\";\n          yield _this1.loadUsers();\n        } catch (err) {\n          console.error(err);\n          _this1.error = \"No se pudo guardar la imagen del usuario.\";\n        }\n      })();\n    }\n    deleteUserImage() {\n      var _this10 = this;\n      return _asyncToGenerator(function* () {\n        if (!_this10.editUserId) return;\n        // Aquí usamos un confirm() nativo solo para esta función específica\n        const ok = confirm(\"¿Seguro que deseas eliminar la imagen de este usuario?\");\n        if (!ok) return;\n        _this10.error = \"\";\n        _this10.success = \"\";\n        try {\n          yield _this10.userSvc.deleteUserImage(_this10.editUserId);\n          _this10.currentUserImageSrc = null;\n          _this10.selectedImageBase64 = null;\n          _this10.hasUserImage = false;\n          _this10.success = \"Imagen eliminada correctamente.\";\n          yield _this10.loadUsers();\n        } catch (err) {\n          console.error(err);\n          _this10.error = \"No se pudo eliminar la imagen del usuario.\";\n        }\n      })();\n    }\n    // ============== VALIDACIONES EXTRA HELPER ==============\n    validatePhone(phone) {\n      if (!phone) return false;\n      return /^[0-9]{10}$/.test(phone);\n    }\n    allowOnlyNumbers(event) {\n      const key = event.key;\n      if (key.length > 1) return;\n      if (!/^[0-9]$/.test(key)) {\n        event.preventDefault();\n      }\n    }\n    static {\n      this.ɵfac = function UsersComponent_Factory(t) {\n        return new (t || UsersComponent)(i0.ɵɵdirectiveInject(i1.UserService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: UsersComponent,\n        selectors: [[\"app-users\"]],\n        decls: 22,\n        vars: 11,\n        consts: [[1, \"users-container\"], [\"class\", \"alert alert-error\", 4, \"ngIf\"], [\"class\", \"alert alert-success\", 4, \"ngIf\"], [1, \"header-row\"], [1, \"btn-primary\", 3, \"click\"], [4, \"ngIf\"], [\"class\", \"users-table\", 4, \"ngIf\"], [\"class\", \"modal-backdrop\", 4, \"ngIf\"], [1, \"alert\", \"alert-error\"], [1, \"alert\", \"alert-success\"], [1, \"users-table\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"user-thumb\", 3, \"src\", 4, \"ngIf\", \"ngIfElse\"], [\"noImg\", \"\"], [\"type\", \"button\", 1, \"action-btn-edit\", 3, \"click\"], [\"type\", \"button\", 1, \"action-btn-delete\", 3, \"click\"], [1, \"user-thumb\", 3, \"src\"], [1, \"user-thumb-empty\"], [1, \"modal-backdrop\"], [1, \"modal-box\"], [1, \"user-form\", 3, \"ngSubmit\"], [\"createUserForm\", \"ngForm\"], [1, \"row\"], [\"type\", \"email\", \"name\", \"email\", \"required\", \"\", \"email\", \"\", \"pattern\", \"^[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,4}$\", 3, \"ngModel\", \"ngModelChange\"], [\"emailCtrl\", \"ngModel\"], [\"class\", \"validation-error\", 4, \"ngIf\"], [\"type\", \"password\", \"name\", \"password\", \"required\", \"\", 3, \"ngModel\", \"pattern\", \"ngModelChange\"], [\"passwordCtrl\", \"ngModel\"], [\"type\", \"text\", \"name\", \"firstName\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [\"firstNameCtrl\", \"ngModel\"], [\"type\", \"text\", \"name\", \"lastName\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [\"lastNameCtrl\", \"ngModel\"], [1, \"buttons-row\"], [\"type\", \"button\", 1, \"btn-secondary\", 3, \"click\"], [\"type\", \"submit\", 1, \"btn-primary\", 3, \"disabled\"], [1, \"validation-error\"], [\"editUserForm\", \"ngForm\"], [\"type\", \"text\", \"name\", \"editFirstName\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [\"editFirstNameCtrl\", \"ngModel\"], [\"type\", \"text\", \"name\", \"editLastName\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [\"editLastNameCtrl\", \"ngModel\"], [\"type\", \"text\", \"name\", \"editPhone\", \"pattern\", \"^[0-9]{10}$\", \"maxlength\", \"10\", 3, \"ngModel\", \"ngModelChange\", \"keypress\", \"blur\"], [\"editPhoneCtrl\", \"ngModel\"], [\"type\", \"checkbox\", \"name\", \"editEmailConfirmed\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"checkbox\", \"name\", \"editLockoutEnabled\", 3, \"ngModel\", \"ngModelChange\"], [1, \"user-form\"], [1, \"roles-list\"], [4, \"ngIf\", \"ngIfElse\"], [\"noRoles\", \"\"], [\"class\", \"row\", 4, \"ngIf\"], [\"name\", \"editNewRoleId\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"hint\"], [\"type\", \"button\", \"class\", \"btn-secondary\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"btn-primary\", 3, \"click\"], [\"class\", \"image-preview\", 4, \"ngIf\", \"ngIfElse\"], [\"noImageTpl\", \"\"], [\"type\", \"file\", \"accept\", \"image/*\", 3, \"change\"], [\"name\", \"editCurrentRoleId\", 3, \"ngModel\", \"ngModelChange\"], [3, \"value\"], [1, \"image-preview\"], [\"alt\", \"Imagen de usuario\", 3, \"src\"], [\"class\", \"hint\", 4, \"ngIf\"], [1, \"modal-box-small\"], [2, \"font-size\", \"0.9em\", \"color\", \"#64748b\"], [1, \"buttons-row\", \"buttons-center\"], [\"type\", \"button\", 1, \"btn-danger\", 3, \"click\"], [2, \"color\", \"#e74c3c\"], [1, \"alert\", \"alert-error\", 2, \"text-align\", \"left\"]],\n        template: function UsersComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n            i0.ɵɵtext(2, \"Gesti\\u00F3n de Usuarios\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(3, UsersComponent_div_3_Template, 2, 1, \"div\", 1);\n            i0.ɵɵtemplate(4, UsersComponent_div_4_Template, 2, 1, \"div\", 2);\n            i0.ɵɵelementStart(5, \"div\", 3)(6, \"h2\");\n            i0.ɵɵtext(7, \"Usuarios registrados\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(8, \"button\", 4);\n            i0.ɵɵlistener(\"click\", function UsersComponent_Template_button_click_8_listener() {\n              return ctx.openCreateModal();\n            });\n            i0.ɵɵtext(9, \"Crear usuario\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(10, UsersComponent_div_10_Template, 2, 0, \"div\", 5);\n            i0.ɵɵtemplate(11, UsersComponent_table_11_Template, 19, 1, \"table\", 6);\n            i0.ɵɵtemplate(12, UsersComponent_p_12_Template, 2, 0, \"p\", 5);\n            i0.ɵɵelement(13, \"hr\");\n            i0.ɵɵelementStart(14, \"h2\");\n            i0.ɵɵtext(15, \"Roles disponibles\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(16, UsersComponent_div_16_Template, 2, 0, \"div\", 5);\n            i0.ɵɵtemplate(17, UsersComponent_ul_17_Template, 2, 1, \"ul\", 5);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(18, UsersComponent_div_18_Template, 35, 18, \"div\", 7);\n            i0.ɵɵtemplate(19, UsersComponent_div_19_Template, 78, 26, \"div\", 7);\n            i0.ɵɵtemplate(20, UsersComponent_div_20_Template, 16, 1, \"div\", 7);\n            i0.ɵɵtemplate(21, UsersComponent_div_21_Template, 9, 1, \"div\", 7);\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngIf\", ctx.error);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.success);\n            i0.ɵɵadvance(6);\n            i0.ɵɵproperty(\"ngIf\", ctx.loadingUsers);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", !ctx.loadingUsers && ctx.users.length);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", !ctx.loadingUsers && ctx.users.length === 0);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngIf\", ctx.loadingRoles);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", !ctx.loadingRoles);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.isCreateModalOpen);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.isEditModalOpen);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.isDeleteModalOpen);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.isErrorModalOpen);\n          }\n        },\n        styles: [\".users-container[_ngcontent-%COMP%]{padding:18px;background:#ffffff;border-radius:10px;font-family:Arial,sans-serif}.users-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:15px;color:#164e63}.users-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:25px;margin-bottom:10px;color:#0f172a}.header-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.users-table[_ngcontent-%COMP%]{width:100%;margin-top:15px;border-collapse:collapse}.users-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .users-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #e2e8f0;padding:10px 8px;text-align:left}.users-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f1f5f9;font-weight:700}.action-btn-edit[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:6px 10px;border:none;border-radius:4px;cursor:pointer;margin-right:5px}.action-btn-edit[_ngcontent-%COMP%]:hover{background-color:#2c82c9}.action-btn-delete[_ngcontent-%COMP%]{background-color:#e74c3c;color:#fff;padding:6px 10px;border:none;border-radius:4px;cursor:pointer}.action-btn-delete[_ngcontent-%COMP%]:hover{background-color:#c0392b}.user-form[_ngcontent-%COMP%]{width:100%;max-width:100%;padding:18px;background:#f8fafc;border:1px solid #e2e8f0;border-radius:10px;display:flex;flex-direction:column;gap:12px;margin-bottom:20px}.row[_ngcontent-%COMP%]{display:flex;flex-direction:column}.row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:4px}.row[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .row[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .row[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%], .row[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:8px 10px;border:1px solid #cbd5e1;border-radius:5px;font-size:14px;background:#ffffff}.row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .row[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:2px solid #2563eb}.input-error[_ngcontent-%COMP%]{border:1px solid #e74c3c!important;background-color:#fff5f5}.input-error[_ngcontent-%COMP%]:focus{outline:2px solid #e74c3c!important}.validation-error[_ngcontent-%COMP%]{color:#b91c1c;font-size:12px;margin-top:4px;font-weight:500}.row[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-right:6px}.roles-list[_ngcontent-%COMP%]{margin:0}.btn-primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff;padding:9px 12px;border:none;border-radius:6px;font-weight:700;cursor:pointer}.btn-primary[_ngcontent-%COMP%]:hover{background:#1d4ed8}.btn-secondary[_ngcontent-%COMP%]{background:#64748b;color:#fff;padding:9px 12px;border:none;border-radius:6px;cursor:pointer}.btn-secondary[_ngcontent-%COMP%]:hover{background:#475569}.btn-danger[_ngcontent-%COMP%]{background:#e74c3c;color:#fff;padding:9px 12px;border:none;border-radius:6px;font-weight:700;cursor:pointer}.btn-danger[_ngcontent-%COMP%]:hover{background:#c0392b}.buttons-row[_ngcontent-%COMP%]{display:flex;gap:10px}.buttons-center[_ngcontent-%COMP%]{justify-content:center;margin-top:15px}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.55);display:flex;justify-content:center;align-items:center;z-index:2000;padding:20px}.modal-box[_ngcontent-%COMP%]{width:850px;max-width:95vw;max-height:90vh;overflow-y:auto;overflow-x:hidden;background:white;border-radius:12px;padding:30px;animation:_ngcontent-%COMP%_modalPop .25s ease;box-shadow:0 10px 30px #00000040}.modal-box-small[_ngcontent-%COMP%]{width:400px;max-width:90vw;background:white;border-radius:12px;padding:25px;animation:_ngcontent-%COMP%_modalPop .25s ease;box-shadow:0 10px 30px #0000004d;text-align:center}.modal-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .modal-box-small[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;font-size:22px;text-align:center;color:#0f172a;margin-bottom:18px}@keyframes _ngcontent-%COMP%_modalPop{0%{transform:scale(.85);opacity:0}to{transform:scale(1);opacity:1}}.alert[_ngcontent-%COMP%]{padding:12px;margin-bottom:12px;border-radius:6px;font-size:14px}.alert-error[_ngcontent-%COMP%]{background:#fee2e2;color:#b91c1c;border:1px solid #fecaca}.alert-success[_ngcontent-%COMP%]{background:#dcfce7;color:#166534;border:1px solid #bbf7d0}hr[_ngcontent-%COMP%]{margin:25px 0;border:none;border-bottom:1px solid #e2e8f0}.hint[_ngcontent-%COMP%]{font-size:11px;color:#6b7280}.image-preview[_ngcontent-%COMP%]{width:140px;height:140px;border-radius:50%;overflow:hidden;border:2px solid #cbd5e1;margin-bottom:12px}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.user-thumb[_ngcontent-%COMP%]{width:45px;height:45px;border-radius:50%;object-fit:cover;border:2px solid #e2e8f0}.user-thumb-empty[_ngcontent-%COMP%]{width:45px;height:45px;border-radius:50%;background:#e5e7eb;color:#6b7280;display:flex;align-items:center;justify-content:center;font-size:10px;font-weight:700}\"]\n      });\n    }\n  }\n  return UsersComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}