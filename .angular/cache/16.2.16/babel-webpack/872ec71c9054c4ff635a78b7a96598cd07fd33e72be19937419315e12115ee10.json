{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/HP/Desktop/angular-app-actualizado/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { CustomerService } from \"../services/customer.service\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/customer.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction ClientsComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.error, \" \");\n  }\n}\nfunction ClientsComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Cargando clientes, por favor espere...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClientsComponent_div_5_table_6_tr_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\")(13, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function ClientsComponent_div_5_table_6_tr_16_Template_button_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const c_r8 = restoredCtx.$implicit;\n      const ctx_r9 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r9.openEditModal(c_r8));\n    });\n    i0.ɵɵtext(14, \"\\u270F\\uFE0F\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function ClientsComponent_div_5_table_6_tr_16_Template_button_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const c_r8 = restoredCtx.$implicit;\n      const ctx_r11 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r11.deleteCustomer(c_r8));\n    });\n    i0.ɵɵtext(16, \"\\uD83D\\uDDD1\\uFE0F\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const c_r8 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(c_r8.cedula);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", c_r8.firstName, \" \", c_r8.lastName, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(c_r8.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(c_r8.phoneNumber);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", i0.ɵɵpipeBind2(11, 6, c_r8.currentBalance || 0, \"1.2-2\"), \"\");\n  }\n}\nfunction ClientsComponent_div_5_table_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 8)(1, \"thead\")(2, \"tr\")(3, \"th\");\n    i0.ɵɵtext(4, \"C\\u00E9dula\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Nombre completo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"Tel\\u00E9fono\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \"Saldo actual\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\");\n    i0.ɵɵtext(14, \"Acciones\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(15, \"tbody\");\n    i0.ɵɵtemplate(16, ClientsComponent_div_5_table_6_tr_16_Template, 17, 9, \"tr\", 9);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(16);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.clientes);\n  }\n}\nfunction ClientsComponent_div_5_p_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \" No hay clientes registrados. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClientsComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 5)(2, \"h2\");\n    i0.ɵɵtext(3, \"Lista de clientes\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function ClientsComponent_div_5_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.openCreateModal());\n    });\n    i0.ɵɵtext(5, \"\\u2795 Nuevo cliente\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(6, ClientsComponent_div_5_table_6_Template, 17, 1, \"table\", 7);\n    i0.ɵɵtemplate(7, ClientsComponent_div_5_p_7_Template, 2, 0, \"p\", 2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.clientes && ctx_r2.clientes.length);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.clientes.length === 0);\n  }\n}\nfunction ClientsComponent_div_6_div_11_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Los nombres son obligatorios.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClientsComponent_div_6_div_11_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Debe tener al menos 2 caracteres.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClientsComponent_div_6_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵtemplate(1, ClientsComponent_div_6_div_11_span_1_Template, 2, 0, \"span\", 2);\n    i0.ɵɵtemplate(2, ClientsComponent_div_6_div_11_span_2_Template, 2, 0, \"span\", 2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r15 = i0.ɵɵreference(10);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r15.errors == null ? null : _r15.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r15.errors == null ? null : _r15.errors[\"minlength\"]);\n  }\n}\nfunction ClientsComponent_div_6_div_17_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Los apellidos son obligatorios.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClientsComponent_div_6_div_17_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Debe tener al menos 2 caracteres.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClientsComponent_div_6_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵtemplate(1, ClientsComponent_div_6_div_17_span_1_Template, 2, 0, \"span\", 2);\n    i0.ɵɵtemplate(2, ClientsComponent_div_6_div_17_span_2_Template, 2, 0, \"span\", 2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r17 = i0.ɵɵreference(16);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r17.errors == null ? null : _r17.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r17.errors == null ? null : _r17.errors[\"minlength\"]);\n  }\n}\nfunction ClientsComponent_div_6_div_23_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"La c\\u00E9dula es obligatoria.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClientsComponent_div_6_div_23_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"La c\\u00E9dula debe tener 10 d\\u00EDgitos num\\u00E9ricos.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClientsComponent_div_6_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵtemplate(1, ClientsComponent_div_6_div_23_span_1_Template, 2, 0, \"span\", 2);\n    i0.ɵɵtemplate(2, ClientsComponent_div_6_div_23_span_2_Template, 2, 0, \"span\", 2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r19 = i0.ɵɵreference(22);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r19.errors == null ? null : _r19.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r19.errors == null ? null : _r19.errors[\"pattern\"]);\n  }\n}\nfunction ClientsComponent_div_6_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵtext(1, \" La c\\u00E9dula no es v\\u00E1lida. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClientsComponent_div_6_div_30_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"El email es obligatorio.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClientsComponent_div_6_div_30_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Ingrese un email v\\u00E1lido.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClientsComponent_div_6_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵtemplate(1, ClientsComponent_div_6_div_30_span_1_Template, 2, 0, \"span\", 2);\n    i0.ɵɵtemplate(2, ClientsComponent_div_6_div_30_span_2_Template, 2, 0, \"span\", 2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r22 = i0.ɵɵreference(29);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r22.errors == null ? null : _r22.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r22.errors == null ? null : _r22.errors[\"email\"]);\n  }\n}\nfunction ClientsComponent_div_6_div_36_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"El tel\\u00E9fono es obligatorio.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClientsComponent_div_6_div_36_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"El tel\\u00E9fono debe tener 10 d\\u00EDgitos num\\u00E9ricos.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClientsComponent_div_6_div_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵtemplate(1, ClientsComponent_div_6_div_36_span_1_Template, 2, 0, \"span\", 2);\n    i0.ɵɵtemplate(2, ClientsComponent_div_6_div_36_span_2_Template, 2, 0, \"span\", 2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r24 = i0.ɵɵreference(35);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r24.errors == null ? null : _r24.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r24.errors == null ? null : _r24.errors[\"pattern\"]);\n  }\n}\nfunction ClientsComponent_div_6_div_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵtext(1, \" El n\\u00FAmero de tel\\u00E9fono no es v\\u00E1lido. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClientsComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r38 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 12)(1, \"div\", 13)(2, \"h2\");\n    i0.ɵɵtext(3, \"Nuevo cliente\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"form\", 14, 15);\n    i0.ɵɵlistener(\"ngSubmit\", function ClientsComponent_div_6_Template_form_ngSubmit_4_listener() {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r37 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r37.createCustomer());\n    });\n    i0.ɵɵelementStart(6, \"div\", 16)(7, \"label\");\n    i0.ɵɵtext(8, \"Nombres\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"input\", 17, 18);\n    i0.ɵɵlistener(\"ngModelChange\", function ClientsComponent_div_6_Template_input_ngModelChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r39 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r39.newCustomer.firstName = $event);\n    })(\"keypress\", function ClientsComponent_div_6_Template_input_keypress_9_listener($event) {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r40 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r40.allowOnlyLetters($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(11, ClientsComponent_div_6_div_11_Template, 3, 2, \"div\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 16)(13, \"label\");\n    i0.ɵɵtext(14, \"Apellidos\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"input\", 20, 21);\n    i0.ɵɵlistener(\"ngModelChange\", function ClientsComponent_div_6_Template_input_ngModelChange_15_listener($event) {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r41 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r41.newCustomer.lastName = $event);\n    })(\"keypress\", function ClientsComponent_div_6_Template_input_keypress_15_listener($event) {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r42 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r42.allowOnlyLetters($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(17, ClientsComponent_div_6_div_17_Template, 3, 2, \"div\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\", 16)(19, \"label\");\n    i0.ɵɵtext(20, \"C\\u00E9dula\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"input\", 22, 23);\n    i0.ɵɵlistener(\"ngModelChange\", function ClientsComponent_div_6_Template_input_ngModelChange_21_listener($event) {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r43 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r43.newCustomer.cedula = $event);\n    })(\"keypress\", function ClientsComponent_div_6_Template_input_keypress_21_listener($event) {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r44 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r44.allowOnlyNumbers($event));\n    })(\"blur\", function ClientsComponent_div_6_Template_input_blur_21_listener() {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r45 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r45.cedulaCreateInvalid = !ctx_r45.validateCedulaEc(ctx_r45.newCustomer.cedula));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(23, ClientsComponent_div_6_div_23_Template, 3, 2, \"div\", 19);\n    i0.ɵɵtemplate(24, ClientsComponent_div_6_div_24_Template, 2, 0, \"div\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"div\", 16)(26, \"label\");\n    i0.ɵɵtext(27, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"input\", 24, 25);\n    i0.ɵɵlistener(\"ngModelChange\", function ClientsComponent_div_6_Template_input_ngModelChange_28_listener($event) {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r46 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r46.newCustomer.email = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(30, ClientsComponent_div_6_div_30_Template, 3, 2, \"div\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"div\", 16)(32, \"label\");\n    i0.ɵɵtext(33, \"Tel\\u00E9fono\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"input\", 26, 27);\n    i0.ɵɵlistener(\"ngModelChange\", function ClientsComponent_div_6_Template_input_ngModelChange_34_listener($event) {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r47 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r47.newCustomer.phoneNumber = $event);\n    })(\"keypress\", function ClientsComponent_div_6_Template_input_keypress_34_listener($event) {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r48 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r48.allowOnlyNumbers($event));\n    })(\"blur\", function ClientsComponent_div_6_Template_input_blur_34_listener() {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r49 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r49.phoneCreateInvalid = !ctx_r49.validatePhone(ctx_r49.newCustomer.phoneNumber));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(36, ClientsComponent_div_6_div_36_Template, 3, 2, \"div\", 19);\n    i0.ɵɵtemplate(37, ClientsComponent_div_6_div_37_Template, 2, 0, \"div\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"div\", 28)(39, \"button\", 29);\n    i0.ɵɵtext(40, \" Guardar \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function ClientsComponent_div_6_Template_button_click_41_listener() {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r50 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r50.closeCreateModal());\n    });\n    i0.ɵɵtext(42, \"Cancelar\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const _r14 = i0.ɵɵreference(5);\n    const _r15 = i0.ɵɵreference(10);\n    const _r17 = i0.ɵɵreference(16);\n    const _r19 = i0.ɵɵreference(22);\n    const _r22 = i0.ɵɵreference(29);\n    const _r24 = i0.ɵɵreference(35);\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.newCustomer.firstName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r15.invalid && (_r15.dirty || _r15.touched));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.newCustomer.lastName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r17.invalid && (_r17.dirty || _r17.touched));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.newCustomer.cedula);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r19.invalid && (_r19.dirty || _r19.touched));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !_r19.invalid && ctx_r3.cedulaCreateInvalid);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.newCustomer.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r22.invalid && (_r22.dirty || _r22.touched));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.newCustomer.phoneNumber);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r24.invalid && (_r24.dirty || _r24.touched));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !_r24.invalid && ctx_r3.phoneCreateInvalid);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", _r14.invalid || ctx_r3.cedulaCreateInvalid || ctx_r3.phoneCreateInvalid);\n  }\n}\nfunction ClientsComponent_div_7_div_11_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Los nombres son obligatorios.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClientsComponent_div_7_div_11_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Debe tener al menos 2 caracteres.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClientsComponent_div_7_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵtemplate(1, ClientsComponent_div_7_div_11_span_1_Template, 2, 0, \"span\", 2);\n    i0.ɵɵtemplate(2, ClientsComponent_div_7_div_11_span_2_Template, 2, 0, \"span\", 2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r52 = i0.ɵɵreference(10);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r52.errors == null ? null : _r52.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r52.errors == null ? null : _r52.errors[\"minlength\"]);\n  }\n}\nfunction ClientsComponent_div_7_div_17_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Los apellidos son obligatorios.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClientsComponent_div_7_div_17_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Debe tener al menos 2 caracteres.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClientsComponent_div_7_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵtemplate(1, ClientsComponent_div_7_div_17_span_1_Template, 2, 0, \"span\", 2);\n    i0.ɵɵtemplate(2, ClientsComponent_div_7_div_17_span_2_Template, 2, 0, \"span\", 2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r54 = i0.ɵɵreference(16);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r54.errors == null ? null : _r54.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r54.errors == null ? null : _r54.errors[\"minlength\"]);\n  }\n}\nfunction ClientsComponent_div_7_div_30_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"El email es obligatorio.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClientsComponent_div_7_div_30_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Ingrese un email v\\u00E1lido.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClientsComponent_div_7_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵtemplate(1, ClientsComponent_div_7_div_30_span_1_Template, 2, 0, \"span\", 2);\n    i0.ɵɵtemplate(2, ClientsComponent_div_7_div_30_span_2_Template, 2, 0, \"span\", 2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r57 = i0.ɵɵreference(29);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r57.errors == null ? null : _r57.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r57.errors == null ? null : _r57.errors[\"email\"]);\n  }\n}\nfunction ClientsComponent_div_7_div_36_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"El tel\\u00E9fono es obligatorio.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClientsComponent_div_7_div_36_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"El tel\\u00E9fono debe tener 10 d\\u00EDgitos num\\u00E9ricos.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClientsComponent_div_7_div_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵtemplate(1, ClientsComponent_div_7_div_36_span_1_Template, 2, 0, \"span\", 2);\n    i0.ɵɵtemplate(2, ClientsComponent_div_7_div_36_span_2_Template, 2, 0, \"span\", 2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r59 = i0.ɵɵreference(35);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r59.errors == null ? null : _r59.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r59.errors == null ? null : _r59.errors[\"pattern\"]);\n  }\n}\nfunction ClientsComponent_div_7_div_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵtext(1, \" El n\\u00FAmero de tel\\u00E9fono no es v\\u00E1lido. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClientsComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r71 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 12)(1, \"div\", 13)(2, \"h2\");\n    i0.ɵɵtext(3, \"Editar cliente\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"form\", 14, 32);\n    i0.ɵɵlistener(\"ngSubmit\", function ClientsComponent_div_7_Template_form_ngSubmit_4_listener() {\n      i0.ɵɵrestoreView(_r71);\n      const ctx_r70 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r70.updateCustomer());\n    });\n    i0.ɵɵelementStart(6, \"div\", 16)(7, \"label\");\n    i0.ɵɵtext(8, \"Nombres\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"input\", 33, 34);\n    i0.ɵɵlistener(\"ngModelChange\", function ClientsComponent_div_7_Template_input_ngModelChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r71);\n      const ctx_r72 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r72.editCustomer.firstName = $event);\n    })(\"keypress\", function ClientsComponent_div_7_Template_input_keypress_9_listener($event) {\n      i0.ɵɵrestoreView(_r71);\n      const ctx_r73 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r73.allowOnlyLetters($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(11, ClientsComponent_div_7_div_11_Template, 3, 2, \"div\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 16)(13, \"label\");\n    i0.ɵɵtext(14, \"Apellidos\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"input\", 35, 36);\n    i0.ɵɵlistener(\"ngModelChange\", function ClientsComponent_div_7_Template_input_ngModelChange_15_listener($event) {\n      i0.ɵɵrestoreView(_r71);\n      const ctx_r74 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r74.editCustomer.lastName = $event);\n    })(\"keypress\", function ClientsComponent_div_7_Template_input_keypress_15_listener($event) {\n      i0.ɵɵrestoreView(_r71);\n      const ctx_r75 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r75.allowOnlyLetters($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(17, ClientsComponent_div_7_div_17_Template, 3, 2, \"div\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\", 16)(19, \"label\");\n    i0.ɵɵtext(20, \"C\\u00E9dula\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"input\", 37, 38);\n    i0.ɵɵlistener(\"ngModelChange\", function ClientsComponent_div_7_Template_input_ngModelChange_21_listener($event) {\n      i0.ɵɵrestoreView(_r71);\n      const ctx_r76 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r76.editCustomer.cedula = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"small\", 39);\n    i0.ɵɵtext(24, \"La c\\u00E9dula no se puede modificar.\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(25, \"div\", 16)(26, \"label\");\n    i0.ɵɵtext(27, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"input\", 40, 41);\n    i0.ɵɵlistener(\"ngModelChange\", function ClientsComponent_div_7_Template_input_ngModelChange_28_listener($event) {\n      i0.ɵɵrestoreView(_r71);\n      const ctx_r77 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r77.editCustomer.email = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(30, ClientsComponent_div_7_div_30_Template, 3, 2, \"div\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"div\", 16)(32, \"label\");\n    i0.ɵɵtext(33, \"Tel\\u00E9fono\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"input\", 42, 43);\n    i0.ɵɵlistener(\"ngModelChange\", function ClientsComponent_div_7_Template_input_ngModelChange_34_listener($event) {\n      i0.ɵɵrestoreView(_r71);\n      const ctx_r78 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r78.editCustomer.phoneNumber = $event);\n    })(\"keypress\", function ClientsComponent_div_7_Template_input_keypress_34_listener($event) {\n      i0.ɵɵrestoreView(_r71);\n      const ctx_r79 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r79.allowOnlyNumbers($event));\n    })(\"blur\", function ClientsComponent_div_7_Template_input_blur_34_listener() {\n      i0.ɵɵrestoreView(_r71);\n      const ctx_r80 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r80.phoneEditInvalid = !ctx_r80.validatePhone(ctx_r80.editCustomer.phoneNumber));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(36, ClientsComponent_div_7_div_36_Template, 3, 2, \"div\", 19);\n    i0.ɵɵtemplate(37, ClientsComponent_div_7_div_37_Template, 2, 0, \"div\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"div\", 16)(39, \"label\");\n    i0.ɵɵtext(40, \"Saldo actual\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(41, \"input\", 44);\n    i0.ɵɵpipe(42, \"number\");\n    i0.ɵɵelementStart(43, \"small\", 39);\n    i0.ɵɵtext(44, \"Este valor es solo de lectura.\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(45, \"div\", 28)(46, \"button\", 29);\n    i0.ɵɵtext(47, \" Guardar cambios \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(48, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function ClientsComponent_div_7_Template_button_click_48_listener() {\n      i0.ɵɵrestoreView(_r71);\n      const ctx_r81 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r81.closeEditModal());\n    });\n    i0.ɵɵtext(49, \"Cancelar\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const _r51 = i0.ɵɵreference(5);\n    const _r52 = i0.ɵɵreference(10);\n    const _r54 = i0.ɵɵreference(16);\n    const _r57 = i0.ɵɵreference(29);\n    const _r59 = i0.ɵɵreference(35);\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngModel\", ctx_r4.editCustomer.firstName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r52.invalid && (_r52.dirty || _r52.touched));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r4.editCustomer.lastName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r54.invalid && (_r54.dirty || _r54.touched));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r4.editCustomer.cedula);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngModel\", ctx_r4.editCustomer.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r57.invalid && (_r57.dirty || _r57.touched));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r4.editCustomer.phoneNumber);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r59.invalid && (_r59.dirty || _r59.touched));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !_r59.invalid && ctx_r4.phoneEditInvalid);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"value\", i0.ɵɵpipeBind2(42, 12, ctx_r4.editCurrentBalance, \"1.2-2\"));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"disabled\", _r51.invalid || ctx_r4.phoneEditInvalid);\n  }\n}\nexport let ClientsComponent = /*#__PURE__*/(() => {\n  class ClientsComponent {\n    constructor(customerSvc) {\n      this.customerSvc = customerSvc;\n      this.clientes = [];\n      this.loading = true;\n      this.error = \"\";\n      // MODAL CREAR\n      this.isCreateModalOpen = false;\n      this.newCustomer = {\n        firstName: \"\",\n        lastName: \"\",\n        cedula: \"\",\n        email: \"\",\n        phoneNumber: \"\"\n      };\n      // MODAL EDITAR\n      this.isEditModalOpen = false;\n      this.editCustomerId = null;\n      this.editCustomer = {\n        firstName: \"\",\n        lastName: \"\",\n        cedula: \"\",\n        email: \"\",\n        phoneNumber: \"\"\n      };\n      this.editCurrentBalance = 0; // solo lectura\n      // flags para mostrar errores extra\n      this.cedulaCreateInvalid = false;\n      this.phoneCreateInvalid = false;\n      this.phoneEditInvalid = false;\n    }\n    ngOnInit() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        yield _this.loadCustomers();\n      })();\n    }\n    loadCustomers() {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        _this2.loading = true;\n        _this2.error = \"\";\n        try {\n          const resp = yield _this2.customerSvc.getCustomers();\n          _this2.clientes = resp || [];\n        } catch (err) {\n          console.error(\"Error al cargar clientes:\", err);\n          _this2.error = err?.message || \"Error al cargar clientes\";\n        } finally {\n          _this2.loading = false;\n        }\n      })();\n    }\n    // ======== CREAR ========\n    openCreateModal() {\n      this.newCustomer = {\n        firstName: \"\",\n        lastName: \"\",\n        cedula: \"\",\n        email: \"\",\n        phoneNumber: \"\"\n      };\n      this.cedulaCreateInvalid = false;\n      this.phoneCreateInvalid = false;\n      this.error = \"\";\n      this.isCreateModalOpen = true;\n    }\n    closeCreateModal() {\n      this.isCreateModalOpen = false;\n    }\n    createCustomer() {\n      var _this3 = this;\n      return _asyncToGenerator(function* () {\n        _this3.error = \"\";\n        const firstName = _this3.newCustomer.firstName.trim();\n        const lastName = _this3.newCustomer.lastName.trim();\n        const cedula = _this3.newCustomer.cedula.trim();\n        const email = _this3.newCustomer.email.trim();\n        const phone = _this3.newCustomer.phoneNumber.trim();\n        // Validaciones básicas obligatorias\n        if (!firstName || !lastName || !cedula || !email) {\n          _this3.error = \"Nombre, apellido, cédula y email son obligatorios.\";\n          return;\n        }\n        // Validar cédula ecuatoriana\n        if (!_this3.validateCedulaEc(cedula)) {\n          _this3.cedulaCreateInvalid = true;\n          _this3.error = \"La cédula ingresada no es válida.\";\n          return;\n        } else {\n          _this3.cedulaCreateInvalid = false;\n        }\n        // Validar teléfono (si viene lleno, debe ser válido)\n        if (phone && !_this3.validatePhone(phone)) {\n          _this3.phoneCreateInvalid = true;\n          _this3.error = \"El teléfono ingresado no es válido (deben ser 10 dígitos).\";\n          return;\n        } else {\n          _this3.phoneCreateInvalid = false;\n        }\n        try {\n          const payload = {\n            firstName,\n            lastName,\n            cedula,\n            email,\n            phoneNumber: phone\n          };\n          yield _this3.customerSvc.createCustomer(payload);\n          yield _this3.loadCustomers();\n          _this3.closeCreateModal();\n        } catch (err) {\n          console.error(\"Error al crear cliente:\", err);\n          _this3.error = \"No se pudo crear el cliente\";\n        }\n      })();\n    }\n    // ======== EDITAR ========\n    openEditModal(c) {\n      this.editCustomerId = c.id;\n      this.editCustomer = {\n        firstName: c.firstName || \"\",\n        lastName: c.lastName || \"\",\n        cedula: c.cedula || \"\",\n        email: c.email || \"\",\n        phoneNumber: c.phoneNumber || \"\"\n      };\n      this.editCurrentBalance = c.currentBalance ?? 0;\n      this.phoneEditInvalid = false;\n      this.error = \"\";\n      this.isEditModalOpen = true;\n    }\n    closeEditModal() {\n      this.isEditModalOpen = false;\n      this.editCustomerId = null;\n      this.phoneEditInvalid = false;\n    }\n    updateCustomer() {\n      var _this4 = this;\n      return _asyncToGenerator(function* () {\n        if (!_this4.editCustomerId) return;\n        _this4.error = \"\";\n        const firstName = _this4.editCustomer.firstName.trim();\n        const lastName = _this4.editCustomer.lastName.trim();\n        // cedula viene de solo lectura, pero igual la mandamos al backend\n        const cedula = _this4.editCustomer.cedula.trim();\n        const email = _this4.editCustomer.email.trim();\n        const phone = _this4.editCustomer.phoneNumber.trim();\n        if (!firstName || !lastName || !cedula || !email) {\n          _this4.error = \"Nombre, apellido, cédula y email son obligatorios.\";\n          return;\n        }\n        // Teléfono debe ser válido\n        if (!_this4.validatePhone(phone)) {\n          _this4.phoneEditInvalid = true;\n          _this4.error = \"El teléfono ingresado no es válido (deben ser 10 dígitos).\";\n          return;\n        } else {\n          _this4.phoneEditInvalid = false;\n        }\n        try {\n          const payload = {\n            firstName,\n            lastName,\n            cedula,\n            email,\n            phoneNumber: phone\n          };\n          yield _this4.customerSvc.updateCustomer(_this4.editCustomerId, payload);\n          yield _this4.loadCustomers();\n          _this4.closeEditModal();\n        } catch (err) {\n          console.error(\"Error al actualizar cliente:\", err);\n          _this4.error = \"No se pudo actualizar el cliente\";\n        }\n      })();\n    }\n    // ======== ELIMINAR ========\n    deleteCustomer(c) {\n      var _this5 = this;\n      return _asyncToGenerator(function* () {\n        const ok = confirm(`¿Seguro que deseas eliminar al cliente \"${c.firstName} ${c.lastName}\"?`);\n        if (!ok) return;\n        _this5.error = \"\";\n        try {\n          yield _this5.customerSvc.deleteCustomer(c.id);\n          yield _this5.loadCustomers();\n        } catch (err) {\n          console.error(\"Error al eliminar cliente:\", err);\n          _this5.error = \"No se pudo eliminar el cliente\";\n        }\n      })();\n    }\n    // ================== VALIDACIONES EXTRA ==================\n    /** Valida cédula ecuatoriana de 10 dígitos */\n    validateCedulaEc(cedula) {\n      if (!cedula) return false;\n      if (!/^[0-9]{10}$/.test(cedula)) return false;\n      const provincia = parseInt(cedula.substring(0, 2), 10);\n      if (provincia < 1 || provincia > 24) return false;\n      const digitos = cedula.split(\"\").map(d => parseInt(d, 10));\n      const verificador = digitos[9];\n      const coeficientes = [2, 1, 2, 1, 2, 1, 2, 1, 2];\n      let suma = 0;\n      for (let i = 0; i < 9; i++) {\n        let valor = digitos[i] * coeficientes[i];\n        if (valor >= 10) valor -= 9;\n        suma += valor;\n      }\n      const decenaSuperior = Math.ceil(suma / 10) * 10;\n      const digitoCalculado = decenaSuperior - suma;\n      const digitoFinal = digitoCalculado === 10 ? 0 : digitoCalculado;\n      return digitoFinal === verificador;\n    }\n    /** Valida teléfono: exactamente 10 dígitos */\n    validatePhone(phone) {\n      if (!phone) return false;\n      return /^[0-9]{10}$/.test(phone);\n    }\n    /** Permitir solo letras (incluye acentos y espacios) */\n    allowOnlyLetters(event) {\n      const key = event.key;\n      // permitir teclas especiales (backspace, tab, flechas, etc.)\n      if (key.length > 1) {\n        return;\n      }\n      const pattern = /^[a-zA-ZáéíóúÁÉÍÓÚñÑ\\s]$/;\n      if (!pattern.test(key)) {\n        event.preventDefault();\n      }\n    }\n    /** Permitir solo números */\n    allowOnlyNumbers(event) {\n      const key = event.key;\n      // permitir teclas especiales\n      if (key.length > 1) {\n        return;\n      }\n      if (!/^[0-9]$/.test(key)) {\n        event.preventDefault();\n      }\n    }\n    static {\n      this.ɵfac = function ClientsComponent_Factory(t) {\n        return new (t || ClientsComponent)(i0.ɵɵdirectiveInject(i1.CustomerService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ClientsComponent,\n        selectors: [[\"app-clients\"]],\n        decls: 8,\n        vars: 5,\n        consts: [[1, \"clients-wrapper\"], [\"class\", \"alert alert-error\", 4, \"ngIf\"], [4, \"ngIf\"], [\"class\", \"modal-backdrop\", 4, \"ngIf\"], [1, \"alert\", \"alert-error\"], [1, \"header-row\"], [1, \"btn-primary\", 3, \"click\"], [\"class\", \"clients-table\", 4, \"ngIf\"], [1, \"clients-table\"], [4, \"ngFor\", \"ngForOf\"], [1, \"action-btn-edit\", 3, \"click\"], [1, \"action-btn-delete\", 3, \"click\"], [1, \"modal-backdrop\"], [1, \"modal-box\"], [1, \"client-form\", 3, \"ngSubmit\"], [\"createForm\", \"ngForm\"], [1, \"row\"], [\"type\", \"text\", \"name\", \"newFirstName\", \"required\", \"\", \"minlength\", \"2\", 3, \"ngModel\", \"ngModelChange\", \"keypress\"], [\"newFirstName\", \"ngModel\"], [\"class\", \"validation-error\", 4, \"ngIf\"], [\"type\", \"text\", \"name\", \"newLastName\", \"required\", \"\", \"minlength\", \"2\", 3, \"ngModel\", \"ngModelChange\", \"keypress\"], [\"newLastName\", \"ngModel\"], [\"type\", \"text\", \"name\", \"newCedula\", \"required\", \"\", \"pattern\", \"^[0-9]{10}$\", \"maxlength\", \"10\", 3, \"ngModel\", \"ngModelChange\", \"keypress\", \"blur\"], [\"newCedula\", \"ngModel\"], [\"type\", \"email\", \"name\", \"newEmail\", \"required\", \"\", \"email\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"newEmail\", \"ngModel\"], [\"type\", \"text\", \"name\", \"newPhone\", \"required\", \"\", \"pattern\", \"^[0-9]{10}$\", \"maxlength\", \"10\", 3, \"ngModel\", \"ngModelChange\", \"keypress\", \"blur\"], [\"newPhone\", \"ngModel\"], [1, \"buttons-row\"], [\"type\", \"submit\", 1, \"btn-primary\", 3, \"disabled\"], [\"type\", \"button\", 1, \"btn-secondary\", 3, \"click\"], [1, \"validation-error\"], [\"editForm\", \"ngForm\"], [\"type\", \"text\", \"name\", \"editFirstName\", \"required\", \"\", \"minlength\", \"2\", 3, \"ngModel\", \"ngModelChange\", \"keypress\"], [\"editFirstName\", \"ngModel\"], [\"type\", \"text\", \"name\", \"editLastName\", \"required\", \"\", \"minlength\", \"2\", 3, \"ngModel\", \"ngModelChange\", \"keypress\"], [\"editLastName\", \"ngModel\"], [\"type\", \"text\", \"name\", \"editCedula\", \"readonly\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"editCedula\", \"ngModel\"], [1, \"hint\"], [\"type\", \"email\", \"name\", \"editEmail\", \"required\", \"\", \"email\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"editEmail\", \"ngModel\"], [\"type\", \"text\", \"name\", \"editPhone\", \"required\", \"\", \"pattern\", \"^[0-9]{10}$\", \"maxlength\", \"10\", 3, \"ngModel\", \"ngModelChange\", \"keypress\", \"blur\"], [\"editPhone\", \"ngModel\"], [\"type\", \"text\", \"disabled\", \"\", 3, \"value\"]],\n        template: function ClientsComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n            i0.ɵɵtext(2, \"Gesti\\u00F3n de Clientes\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(3, ClientsComponent_div_3_Template, 2, 1, \"div\", 1);\n            i0.ɵɵtemplate(4, ClientsComponent_div_4_Template, 2, 0, \"div\", 2);\n            i0.ɵɵtemplate(5, ClientsComponent_div_5_Template, 8, 2, \"div\", 2);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(6, ClientsComponent_div_6_Template, 43, 13, \"div\", 3);\n            i0.ɵɵtemplate(7, ClientsComponent_div_7_Template, 50, 15, \"div\", 3);\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngIf\", ctx.error);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.loading);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", !ctx.loading && !ctx.error);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.isCreateModalOpen);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.isEditModalOpen);\n          }\n        },\n        dependencies: [i2.NgForOf, i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.MinLengthValidator, i3.MaxLengthValidator, i3.PatternValidator, i3.EmailValidator, i3.NgModel, i3.NgForm, i2.DecimalPipe],\n        styles: [\".clients-wrapper[_ngcontent-%COMP%]{width:100%;font-family:Arial,sans-serif;padding:20px}.clients-wrapper[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:20px;color:#164e63;font-size:2em;border-bottom:2px solid #e2e8f0;padding-bottom:10px}.clients-wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:8px;color:#0f172a}.header-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}.clients-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:10px;box-shadow:0 1px 3px #0000001a}.clients-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .clients-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ececec;padding:10px 12px;text-align:left;font-size:.95em}.clients-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f1f5f9;font-weight:700;color:#334155}.clients-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f8fafc}.alert[_ngcontent-%COMP%]{padding:12px;border-radius:6px;margin-bottom:12px;font-size:14px}.alert-error[_ngcontent-%COMP%]{background:#fee2e2;color:#b91c1c;border:1px solid #fecaca}.btn-primary[_ngcontent-%COMP%]{background-color:#2563eb;color:#fff;border:none;padding:10px 16px;border-radius:6px;cursor:pointer;font-weight:700;transition:background-color .2s}.btn-primary[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#1d4ed8}.btn-primary[disabled][_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background-color:#64748b;color:#fff;border:none;padding:10px 16px;border-radius:6px;cursor:pointer;transition:background-color .2s}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#475569}.btn-danger[_ngcontent-%COMP%]{background-color:#ef4444;color:#fff;border:none;padding:10px 16px;border-radius:6px;cursor:pointer;font-weight:700;transition:background-color .2s}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#dc2626}.action-btn-edit[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;border:none;padding:5px 10px;border-radius:4px;margin-right:5px;cursor:pointer;transition:background-color .2s}.action-btn-edit[_ngcontent-%COMP%]:hover{background-color:#2c82c9}.action-btn-delete[_ngcontent-%COMP%]{background-color:#e74c3c;color:#fff;border:none;padding:5px 10px;border-radius:4px;cursor:pointer;transition:background-color .2s}.action-btn-delete[_ngcontent-%COMP%]:hover{background-color:#c0392b}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.55);display:flex;justify-content:center;align-items:center;z-index:2000}.modal-box[_ngcontent-%COMP%]{width:450px;max-width:90%;background:white;border-radius:10px;padding:25px;box-shadow:0 5px 18px #0003;animation:_ngcontent-%COMP%_modalPop .25s ease}.modal-box-small[_ngcontent-%COMP%]{width:350px;max-width:90%;background:white;border-radius:10px;padding:25px;text-align:center;box-shadow:0 5px 18px #0003;animation:_ngcontent-%COMP%_modalPop .25s ease}@keyframes _ngcontent-%COMP%_modalPop{0%{transform:scale(.85);opacity:0}to\\u00A0{transform:scale(1);opacity:1}}.client-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.row[_ngcontent-%COMP%]{display:flex;flex-direction:column}.row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:4px;color:#334155}.row[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .row[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .row[_ngcontent-%COMP%]   input[type=tel][_ngcontent-%COMP%]{padding:10px 12px;border:1px solid #cbd5e1;border-radius:6px;font-size:14px;transition:border-color .2s,box-shadow .2s}.row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb;box-shadow:0 0 0 2px #2563eb33}.buttons-row[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:10px}.buttons-center[_ngcontent-%COMP%]{justify-content:center}.hint[_ngcontent-%COMP%]{font-size:11px;color:#6b7280;margin-top:4px}.input-error[_ngcontent-%COMP%]{border-color:#ef4444!important;box-shadow:0 0 0 1px #ef4444!important}.validation-error[_ngcontent-%COMP%]{color:#ef4444;font-size:12px;margin-top:4px}\"]\n      });\n    }\n  }\n  return ClientsComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}