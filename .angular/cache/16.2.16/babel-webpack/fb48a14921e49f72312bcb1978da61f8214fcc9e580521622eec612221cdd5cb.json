{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/HP/Desktop/angular-app-actualizado/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { SalesService } from \"../services/sales.service\";\nimport { ProductService } from \"../services/product.service\";\nimport { CustomerService } from \"../services/customer.service\";\n// ðŸ‘‡ imports para PDF\nimport jsPDF from \"jspdf\";\nimport autoTable from \"jspdf-autotable\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/sales.service\";\nimport * as i2 from \"../services/product.service\";\nimport * as i3 from \"../services/customer.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction SalesComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"div\");\n    i0.ÉµÉµtext(1, \"Cargando usuarios...\");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction SalesComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ÉµÉµgetCurrentView();\n    i0.ÉµÉµelementStart(0, \"div\", 4)(1, \"div\", 5)(2, \"button\", 6);\n    i0.ÉµÉµlistener(\"click\", function SalesComponent_div_2_Template_button_click_2_listener() {\n      i0.ÉµÉµrestoreView(_r7);\n      const ctx_r6 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r6.error = \"\");\n    });\n    i0.ÉµÉµtext(3, \"\\u2715\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(4, \"h2\");\n    i0.ÉµÉµtext(5, \"\\u26A0\\uFE0F Error\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(6, \"p\");\n    i0.ÉµÉµtext(7);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(8, \"button\", 7);\n    i0.ÉµÉµlistener(\"click\", function SalesComponent_div_2_Template_button_click_8_listener() {\n      i0.ÉµÉµrestoreView(_r7);\n      const ctx_r8 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r8.error = \"\");\n    });\n    i0.ÉµÉµtext(9, \"Cerrar\");\n    i0.ÉµÉµelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ÉµÉµnextContext();\n    i0.ÉµÉµadvance(7);\n    i0.ÉµÉµtextInterpolate(ctx_r1.error);\n  }\n}\nfunction SalesComponent_div_3_table_6_tr_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ÉµÉµgetCurrentView();\n    i0.ÉµÉµelementStart(0, \"tr\")(1, \"td\");\n    i0.ÉµÉµtext(2);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(3, \"td\");\n    i0.ÉµÉµtext(4);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(5, \"td\");\n    i0.ÉµÉµtext(6);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(7, \"td\");\n    i0.ÉµÉµtext(8);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(9, \"td\")(10, \"button\", 14);\n    i0.ÉµÉµlistener(\"click\", function SalesComponent_div_3_table_6_tr_14_Template_button_click_10_listener() {\n      const restoredCtx = i0.ÉµÉµrestoreView(_r14);\n      const c_r12 = restoredCtx.$implicit;\n      const ctx_r13 = i0.ÉµÉµnextContext(3);\n      return i0.ÉµÉµresetView(ctx_r13.openEditModal(c_r12));\n    });\n    i0.ÉµÉµtext(11, \"\\u270F\\uFE0F\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(12, \"button\", 15);\n    i0.ÉµÉµlistener(\"click\", function SalesComponent_div_3_table_6_tr_14_Template_button_click_12_listener() {\n      const restoredCtx = i0.ÉµÉµrestoreView(_r14);\n      const c_r12 = restoredCtx.$implicit;\n      const ctx_r15 = i0.ÉµÉµnextContext(3);\n      return i0.ÉµÉµresetView(ctx_r15.openDeleteModal(c_r12));\n    });\n    i0.ÉµÉµtext(13, \"\\uD83D\\uDDD1\\uFE0F\");\n    i0.ÉµÉµelementEnd()()();\n  }\n  if (rf & 2) {\n    const c_r12 = ctx.$implicit;\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµtextInterpolate(c_r12.firstName);\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµtextInterpolate(c_r12.lastName);\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµtextInterpolate(c_r12.email);\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµtextInterpolate(c_r12.cedula || \"N/A\");\n  }\n}\nfunction SalesComponent_div_3_table_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"table\", 12)(1, \"thead\")(2, \"tr\")(3, \"th\");\n    i0.ÉµÉµtext(4, \"Nombre\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(5, \"th\");\n    i0.ÉµÉµtext(6, \"Apellido\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(7, \"th\");\n    i0.ÉµÉµtext(8, \"Email\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(9, \"th\");\n    i0.ÉµÉµtext(10, \"C\\u00E9dula\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(11, \"th\");\n    i0.ÉµÉµtext(12, \"Acciones\");\n    i0.ÉµÉµelementEnd()()();\n    i0.ÉµÉµelementStart(13, \"tbody\");\n    i0.ÉµÉµtemplate(14, SalesComponent_div_3_table_6_tr_14_Template, 14, 4, \"tr\", 13);\n    i0.ÉµÉµelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ÉµÉµnextContext(2);\n    i0.ÉµÉµadvance(14);\n    i0.ÉµÉµproperty(\"ngForOf\", ctx_r9.customers);\n  }\n}\nfunction SalesComponent_div_3_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"div\", 16);\n    i0.ÉµÉµtext(1, \" No hay usuarios registrados. \");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction SalesComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ÉµÉµgetCurrentView();\n    i0.ÉµÉµelementStart(0, \"div\")(1, \"div\", 8)(2, \"h1\");\n    i0.ÉµÉµtext(3, \"Gesti\\u00F3n de Usuarios\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(4, \"button\", 9);\n    i0.ÉµÉµlistener(\"click\", function SalesComponent_div_3_Template_button_click_4_listener() {\n      i0.ÉµÉµrestoreView(_r17);\n      const ctx_r16 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r16.openCreateModal());\n    });\n    i0.ÉµÉµtext(5, \" \\u2795 Nuevo Usuario \");\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµtemplate(6, SalesComponent_div_3_table_6_Template, 15, 1, \"table\", 10);\n    i0.ÉµÉµtemplate(7, SalesComponent_div_3_div_7_Template, 2, 0, \"div\", 11);\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ÉµÉµnextContext();\n    i0.ÉµÉµadvance(6);\n    i0.ÉµÉµproperty(\"ngIf\", ctx_r2.customers.length);\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµproperty(\"ngIf\", !ctx_r2.customers.length && !ctx_r2.loading);\n  }\n}\nfunction SalesComponent_div_4_small_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"small\", 34);\n    i0.ÉµÉµtext(1, \" Este campo es obligatorio. \");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction SalesComponent_div_4_small_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"small\", 34);\n    i0.ÉµÉµtext(1, \" Solo letras permitidas. \");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction SalesComponent_div_4_small_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"small\", 34);\n    i0.ÉµÉµtext(1, \" Este campo es obligatorio. \");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction SalesComponent_div_4_small_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"small\", 34);\n    i0.ÉµÉµtext(1, \" Solo letras permitidas. \");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction SalesComponent_div_4_small_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"small\", 34);\n    i0.ÉµÉµtext(1, \" Este campo es obligatorio. \");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction SalesComponent_div_4_small_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"small\", 34);\n    i0.ÉµÉµtext(1, \" Formato de correo inv\\u00E1lido. \");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction SalesComponent_div_4_small_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"small\", 34);\n    i0.ÉµÉµtext(1, \" Este campo es obligatorio. \");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction SalesComponent_div_4_small_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"small\", 34);\n    i0.ÉµÉµtext(1, \" Debe tener min 8 caracteres, 1 may\\u00FAscula, 1 n\\u00FAmero y 1 especial. \");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction SalesComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r31 = i0.ÉµÉµgetCurrentView();\n    i0.ÉµÉµelementStart(0, \"div\", 17)(1, \"div\", 18)(2, \"h2\");\n    i0.ÉµÉµtext(3, \"Nuevo Usuario\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(4, \"form\", 19);\n    i0.ÉµÉµlistener(\"ngSubmit\", function SalesComponent_div_4_Template_form_ngSubmit_4_listener() {\n      i0.ÉµÉµrestoreView(_r31);\n      const ctx_r30 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r30.createCustomer());\n    });\n    i0.ÉµÉµelementStart(5, \"div\", 20)(6, \"label\");\n    i0.ÉµÉµtext(7, \"Nombre *\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(8, \"input\", 21, 22);\n    i0.ÉµÉµlistener(\"ngModelChange\", function SalesComponent_div_4_Template_input_ngModelChange_8_listener($event) {\n      i0.ÉµÉµrestoreView(_r31);\n      const ctx_r32 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r32.newCustomer.firstName = $event);\n    })(\"input\", function SalesComponent_div_4_Template_input_input_8_listener() {\n      i0.ÉµÉµrestoreView(_r31);\n      const ctx_r33 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r33.sanitizeInput(\"new\"));\n    });\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµtemplate(10, SalesComponent_div_4_small_10_Template, 2, 0, \"small\", 23);\n    i0.ÉµÉµtemplate(11, SalesComponent_div_4_small_11_Template, 2, 0, \"small\", 23);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(12, \"div\", 20)(13, \"label\");\n    i0.ÉµÉµtext(14, \"Apellido *\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(15, \"input\", 24, 25);\n    i0.ÉµÉµlistener(\"ngModelChange\", function SalesComponent_div_4_Template_input_ngModelChange_15_listener($event) {\n      i0.ÉµÉµrestoreView(_r31);\n      const ctx_r34 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r34.newCustomer.lastName = $event);\n    })(\"input\", function SalesComponent_div_4_Template_input_input_15_listener() {\n      i0.ÉµÉµrestoreView(_r31);\n      const ctx_r35 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r35.sanitizeInput(\"new\"));\n    });\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµtemplate(17, SalesComponent_div_4_small_17_Template, 2, 0, \"small\", 23);\n    i0.ÉµÉµtemplate(18, SalesComponent_div_4_small_18_Template, 2, 0, \"small\", 23);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(19, \"div\", 20)(20, \"label\");\n    i0.ÉµÉµtext(21, \"Email *\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(22, \"input\", 26, 27);\n    i0.ÉµÉµlistener(\"ngModelChange\", function SalesComponent_div_4_Template_input_ngModelChange_22_listener($event) {\n      i0.ÉµÉµrestoreView(_r31);\n      const ctx_r36 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r36.newCustomer.email = $event);\n    });\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµtemplate(24, SalesComponent_div_4_small_24_Template, 2, 0, \"small\", 23);\n    i0.ÉµÉµtemplate(25, SalesComponent_div_4_small_25_Template, 2, 0, \"small\", 23);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(26, \"div\", 20)(27, \"label\");\n    i0.ÉµÉµtext(28, \"Contrase\\u00F1a *\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(29, \"input\", 28, 29);\n    i0.ÉµÉµlistener(\"ngModelChange\", function SalesComponent_div_4_Template_input_ngModelChange_29_listener($event) {\n      i0.ÉµÉµrestoreView(_r31);\n      const ctx_r37 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r37.newCustomer.password = $event);\n    });\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµtemplate(31, SalesComponent_div_4_small_31_Template, 2, 0, \"small\", 23);\n    i0.ÉµÉµtemplate(32, SalesComponent_div_4_small_32_Template, 2, 0, \"small\", 23);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(33, \"div\", 20)(34, \"label\");\n    i0.ÉµÉµtext(35, \"C\\u00E9dula\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(36, \"input\", 30);\n    i0.ÉµÉµlistener(\"ngModelChange\", function SalesComponent_div_4_Template_input_ngModelChange_36_listener($event) {\n      i0.ÉµÉµrestoreView(_r31);\n      const ctx_r38 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r38.newCustomer.cedula = $event);\n    });\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµelementStart(37, \"div\", 31)(38, \"button\", 32);\n    i0.ÉµÉµlistener(\"click\", function SalesComponent_div_4_Template_button_click_38_listener() {\n      i0.ÉµÉµrestoreView(_r31);\n      const ctx_r39 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r39.closeCreateModal());\n    });\n    i0.ÉµÉµtext(39, \"Cancelar\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(40, \"button\", 33);\n    i0.ÉµÉµtext(41, \"Guardar\");\n    i0.ÉµÉµelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const _r18 = i0.ÉµÉµreference(9);\n    const _r21 = i0.ÉµÉµreference(16);\n    const _r24 = i0.ÉµÉµreference(23);\n    const _r27 = i0.ÉµÉµreference(30);\n    const ctx_r3 = i0.ÉµÉµnextContext();\n    i0.ÉµÉµadvance(8);\n    i0.ÉµÉµclassProp(\"input-error\", (_r18.touched || _r18.dirty || ctx_r3.formSubmitted) && (!ctx_r3.newCustomer.firstName || !ctx_r3.isNameValid(ctx_r3.newCustomer.firstName)));\n    i0.ÉµÉµproperty(\"ngModel\", ctx_r3.newCustomer.firstName);\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµproperty(\"ngIf\", (_r18.touched || _r18.dirty || ctx_r3.formSubmitted) && !ctx_r3.newCustomer.firstName);\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµproperty(\"ngIf\", ctx_r3.newCustomer.firstName && !ctx_r3.isNameValid(ctx_r3.newCustomer.firstName));\n    i0.ÉµÉµadvance(4);\n    i0.ÉµÉµclassProp(\"input-error\", (_r21.touched || _r21.dirty || ctx_r3.formSubmitted) && (!ctx_r3.newCustomer.lastName || !ctx_r3.isNameValid(ctx_r3.newCustomer.lastName)));\n    i0.ÉµÉµproperty(\"ngModel\", ctx_r3.newCustomer.lastName);\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµproperty(\"ngIf\", (_r21.touched || _r21.dirty || ctx_r3.formSubmitted) && !ctx_r3.newCustomer.lastName);\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµproperty(\"ngIf\", ctx_r3.newCustomer.lastName && !ctx_r3.isNameValid(ctx_r3.newCustomer.lastName));\n    i0.ÉµÉµadvance(4);\n    i0.ÉµÉµclassProp(\"input-error\", (_r24.touched || _r24.dirty || ctx_r3.formSubmitted) && (!ctx_r3.newCustomer.email || !ctx_r3.isEmailValid(ctx_r3.newCustomer.email)));\n    i0.ÉµÉµproperty(\"ngModel\", ctx_r3.newCustomer.email);\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµproperty(\"ngIf\", (_r24.touched || _r24.dirty || ctx_r3.formSubmitted) && !ctx_r3.newCustomer.email);\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµproperty(\"ngIf\", ctx_r3.newCustomer.email && !ctx_r3.isEmailValid(ctx_r3.newCustomer.email));\n    i0.ÉµÉµadvance(4);\n    i0.ÉµÉµclassProp(\"input-error\", (_r27.touched || _r27.dirty || ctx_r3.formSubmitted) && (!ctx_r3.newCustomer.password || !ctx_r3.isPasswordStrong(ctx_r3.newCustomer.password)));\n    i0.ÉµÉµproperty(\"ngModel\", ctx_r3.newCustomer.password);\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµproperty(\"ngIf\", (_r27.touched || _r27.dirty || ctx_r3.formSubmitted) && !ctx_r3.newCustomer.password);\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµproperty(\"ngIf\", ctx_r3.newCustomer.password && !ctx_r3.isPasswordStrong(ctx_r3.newCustomer.password));\n    i0.ÉµÉµadvance(4);\n    i0.ÉµÉµproperty(\"ngModel\", ctx_r3.newCustomer.cedula);\n  }\n}\nfunction SalesComponent_div_5_small_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"small\", 34);\n    i0.ÉµÉµtext(1, \" Este campo es obligatorio. \");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction SalesComponent_div_5_small_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"small\", 34);\n    i0.ÉµÉµtext(1, \" Este campo es obligatorio. \");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction SalesComponent_div_5_small_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"small\", 34);\n    i0.ÉµÉµtext(1, \" Este campo es obligatorio. \");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction SalesComponent_div_5_small_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"small\", 34);\n    i0.ÉµÉµtext(1, \" Formato de correo inv\\u00E1lido. \");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction SalesComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r48 = i0.ÉµÉµgetCurrentView();\n    i0.ÉµÉµelementStart(0, \"div\", 17)(1, \"div\", 18)(2, \"h2\");\n    i0.ÉµÉµtext(3, \"Editar Usuario\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(4, \"form\", 19);\n    i0.ÉµÉµlistener(\"ngSubmit\", function SalesComponent_div_5_Template_form_ngSubmit_4_listener() {\n      i0.ÉµÉµrestoreView(_r48);\n      const ctx_r47 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r47.updateCustomer());\n    });\n    i0.ÉµÉµelementStart(5, \"div\", 20)(6, \"label\");\n    i0.ÉµÉµtext(7, \"Nombre *\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(8, \"input\", 35, 36);\n    i0.ÉµÉµlistener(\"ngModelChange\", function SalesComponent_div_5_Template_input_ngModelChange_8_listener($event) {\n      i0.ÉµÉµrestoreView(_r48);\n      const ctx_r49 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r49.editCustomer.firstName = $event);\n    })(\"input\", function SalesComponent_div_5_Template_input_input_8_listener() {\n      i0.ÉµÉµrestoreView(_r48);\n      const ctx_r50 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r50.sanitizeInput(\"edit\"));\n    });\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµtemplate(10, SalesComponent_div_5_small_10_Template, 2, 0, \"small\", 23);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(11, \"div\", 20)(12, \"label\");\n    i0.ÉµÉµtext(13, \"Apellido *\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(14, \"input\", 37, 38);\n    i0.ÉµÉµlistener(\"ngModelChange\", function SalesComponent_div_5_Template_input_ngModelChange_14_listener($event) {\n      i0.ÉµÉµrestoreView(_r48);\n      const ctx_r51 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r51.editCustomer.lastName = $event);\n    })(\"input\", function SalesComponent_div_5_Template_input_input_14_listener() {\n      i0.ÉµÉµrestoreView(_r48);\n      const ctx_r52 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r52.sanitizeInput(\"edit\"));\n    });\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµtemplate(16, SalesComponent_div_5_small_16_Template, 2, 0, \"small\", 23);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(17, \"div\", 20)(18, \"label\");\n    i0.ÉµÉµtext(19, \"Email *\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(20, \"input\", 39, 40);\n    i0.ÉµÉµlistener(\"ngModelChange\", function SalesComponent_div_5_Template_input_ngModelChange_20_listener($event) {\n      i0.ÉµÉµrestoreView(_r48);\n      const ctx_r53 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r53.editCustomer.email = $event);\n    });\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµtemplate(22, SalesComponent_div_5_small_22_Template, 2, 0, \"small\", 23);\n    i0.ÉµÉµtemplate(23, SalesComponent_div_5_small_23_Template, 2, 0, \"small\", 23);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(24, \"div\", 20)(25, \"label\");\n    i0.ÉµÉµtext(26, \"C\\u00E9dula\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(27, \"input\", 41);\n    i0.ÉµÉµlistener(\"ngModelChange\", function SalesComponent_div_5_Template_input_ngModelChange_27_listener($event) {\n      i0.ÉµÉµrestoreView(_r48);\n      const ctx_r54 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r54.editCustomer.cedula = $event);\n    });\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµelementStart(28, \"div\", 31)(29, \"button\", 32);\n    i0.ÉµÉµlistener(\"click\", function SalesComponent_div_5_Template_button_click_29_listener() {\n      i0.ÉµÉµrestoreView(_r48);\n      const ctx_r55 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r55.closeEditModal());\n    });\n    i0.ÉµÉµtext(30, \"Cancelar\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(31, \"button\", 33);\n    i0.ÉµÉµtext(32, \"Guardar Cambios\");\n    i0.ÉµÉµelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const _r40 = i0.ÉµÉµreference(9);\n    const _r42 = i0.ÉµÉµreference(15);\n    const _r44 = i0.ÉµÉµreference(21);\n    const ctx_r4 = i0.ÉµÉµnextContext();\n    i0.ÉµÉµadvance(8);\n    i0.ÉµÉµclassProp(\"input-error\", (_r40.touched || _r40.dirty || ctx_r4.formSubmitted) && (!ctx_r4.editCustomer.firstName || !ctx_r4.isNameValid(ctx_r4.editCustomer.firstName)));\n    i0.ÉµÉµproperty(\"ngModel\", ctx_r4.editCustomer.firstName);\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµproperty(\"ngIf\", (_r40.touched || _r40.dirty || ctx_r4.formSubmitted) && !ctx_r4.editCustomer.firstName);\n    i0.ÉµÉµadvance(4);\n    i0.ÉµÉµclassProp(\"input-error\", (_r42.touched || _r42.dirty || ctx_r4.formSubmitted) && (!ctx_r4.editCustomer.lastName || !ctx_r4.isNameValid(ctx_r4.editCustomer.lastName)));\n    i0.ÉµÉµproperty(\"ngModel\", ctx_r4.editCustomer.lastName);\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµproperty(\"ngIf\", (_r42.touched || _r42.dirty || ctx_r4.formSubmitted) && !ctx_r4.editCustomer.lastName);\n    i0.ÉµÉµadvance(4);\n    i0.ÉµÉµclassProp(\"input-error\", (_r44.touched || _r44.dirty || ctx_r4.formSubmitted) && (!ctx_r4.editCustomer.email || !ctx_r4.isEmailValid(ctx_r4.editCustomer.email)));\n    i0.ÉµÉµproperty(\"ngModel\", ctx_r4.editCustomer.email);\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµproperty(\"ngIf\", (_r44.touched || _r44.dirty || ctx_r4.formSubmitted) && !ctx_r4.editCustomer.email);\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµproperty(\"ngIf\", ctx_r4.editCustomer.email && !ctx_r4.isEmailValid(ctx_r4.editCustomer.email));\n    i0.ÉµÉµadvance(4);\n    i0.ÉµÉµproperty(\"ngModel\", ctx_r4.editCustomer.cedula);\n  }\n}\nfunction SalesComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r57 = i0.ÉµÉµgetCurrentView();\n    i0.ÉµÉµelementStart(0, \"div\", 17)(1, \"div\", 42)(2, \"h2\");\n    i0.ÉµÉµtext(3, \"\\u00BFEliminar Usuario?\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(4, \"p\");\n    i0.ÉµÉµtext(5, \" Se eliminar\\u00E1 a \");\n    i0.ÉµÉµelementStart(6, \"strong\");\n    i0.ÉµÉµtext(7);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµtext(8, \".\");\n    i0.ÉµÉµelement(9, \"br\");\n    i0.ÉµÉµtext(10, \" Esta acci\\u00F3n no se puede deshacer. \");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(11, \"div\", 43)(12, \"button\", 32);\n    i0.ÉµÉµlistener(\"click\", function SalesComponent_div_6_Template_button_click_12_listener() {\n      i0.ÉµÉµrestoreView(_r57);\n      const ctx_r56 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r56.closeDeleteModal());\n    });\n    i0.ÉµÉµtext(13, \"Cancelar\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(14, \"button\", 44);\n    i0.ÉµÉµlistener(\"click\", function SalesComponent_div_6_Template_button_click_14_listener() {\n      i0.ÉµÉµrestoreView(_r57);\n      const ctx_r58 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r58.confirmDelete());\n    });\n    i0.ÉµÉµtext(15, \"Eliminar Definitivamente\");\n    i0.ÉµÉµelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ÉµÉµnextContext();\n    i0.ÉµÉµadvance(7);\n    i0.ÉµÉµtextInterpolate2(\"\", ctx_r5.customerToDelete == null ? null : ctx_r5.customerToDelete.firstName, \" \", ctx_r5.customerToDelete == null ? null : ctx_r5.customerToDelete.lastName, \"\");\n  }\n}\nexport let SalesComponent = /*#__PURE__*/(() => {\n  class SalesComponent {\n    constructor(salesSvc, prodSvc, customerSvc) {\n      this.salesSvc = salesSvc;\n      this.prodSvc = prodSvc;\n      this.customerSvc = customerSvc;\n      this.customers = [];\n      this.products = [];\n      this.selectedCustomerId = \"\";\n      this.cartItems = [];\n      this.cartCount = 0;\n      // Subtotales\n      this.cartSubtotal = 0;\n      this.cartIVA = 0;\n      this.cartTotalPagar = 0;\n      // formulario para agregar item\n      this.selectedProductId = null;\n      this.newQuantity = 1;\n      // formulario para crear orden\n      this.shipAddress = \"\";\n      this.shipCity = \"\";\n      this.shipCountry = \"\";\n      this.shipPostalCode = \"\";\n      this.loading = false;\n      this.error = \"\";\n      this.success = \"\";\n    }\n    ngOnInit() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        yield _this.loadCustomersAndProducts();\n      })();\n    }\n    // ================== CLIENTES / PRODUCTOS ==================\n    loadCustomersAndProducts() {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        _this2.loading = true;\n        _this2.error = \"\";\n        try {\n          const [customers, products] = yield Promise.all([_this2.customerSvc.getCustomers(), _this2.prodSvc.getProducts()]);\n          _this2.customers = customers || [];\n          _this2.products = products || [];\n          console.log(\"ðŸŸ¦ Clientes en Sales:\", _this2.customers);\n          _this2.loading = false;\n        } catch (err) {\n          console.error(\"Error cargando clientes/productos:\", err);\n          _this2.error = \"No se pudieron cargar clientes y productos\";\n          _this2.loading = false;\n        }\n      })();\n    }\n    /** Devuelve el cliente actualmente seleccionado */\n    getSelectedCustomer() {\n      return this.customers.find(c => c.id === this.selectedCustomerId);\n    }\n    /** Etiqueta bonita para mostrar en el combo de clientes */\n    getCustomerLabel(c) {\n      const fullName = `${c.firstName || \"\"} ${c.lastName || \"\"}`.trim();\n      if (fullName && c.cedula) return `${fullName} - ${c.cedula}`;\n      return fullName || c.cedula || c.id;\n    }\n    // ================== CARRITO ==================\n    onCustomerChange() {\n      var _this3 = this;\n      return _asyncToGenerator(function* () {\n        _this3.success = \"\";\n        _this3.error = \"\";\n        if (!_this3.selectedCustomerId) {\n          _this3.cartItems = [];\n          _this3.cartCount = 0;\n          _this3.cartSubtotal = 0;\n          _this3.cartIVA = 0;\n          _this3.cartTotalPagar = 0;\n          return;\n        }\n        yield _this3.loadCart();\n      })();\n    }\n    loadCart() {\n      var _this4 = this;\n      return _asyncToGenerator(function* () {\n        if (!_this4.selectedCustomerId) return;\n        _this4.loading = true;\n        _this4.error = \"\";\n        try {\n          const items = yield _this4.salesSvc.getCartByCustomer(_this4.selectedCustomerId);\n          _this4.cartItems = (items || []).map(x => {\n            const prod = _this4.products.find(p => p.id === x.productId);\n            return {\n              ...x,\n              productName: prod ? prod.name : `Producto #${x.productId}`\n            };\n          });\n          // ðŸ”¥ Recalcular totales al cargar carrito\n          _this4.recalcTotals();\n          _this4.loading = false;\n        } catch (err) {\n          console.error(\"Error al cargar carrito:\", err);\n          _this4.error = \"No se pudo cargar el carrito del cliente\";\n          _this4.loading = false;\n        }\n      })();\n    }\n    /** ðŸ”„ Recalcula Subtotal, IVA, Total y nÃºmero de Ã­tems a partir de cartItems */\n    recalcTotals() {\n      this.cartSubtotal = this.cartItems.reduce((acc, it) => acc + (it.unitPrice || 0) * (it.quantity || 0), 0);\n      this.cartIVA = this.cartSubtotal * 0.15;\n      this.cartTotalPagar = this.cartSubtotal + this.cartIVA;\n      this.cartCount = this.cartItems.reduce((acc, it) => acc + (it.quantity || 0), 0);\n    }\n    /** Cuando cambia la cantidad en el input, recalculamos totales en vivo */\n    onQuantityChanged(item) {\n      // asegurar que quantity sea nÃºmero >= 1\n      const q = Number(item.quantity);\n      if (isNaN(q) || q <= 0) {\n        item.quantity = 1;\n      }\n      this.recalcTotals();\n    }\n    addToCart() {\n      var _this5 = this;\n      return _asyncToGenerator(function* () {\n        _this5.success = \"\";\n        _this5.error = \"\";\n        if (!_this5.selectedCustomerId) {\n          _this5.error = \"Seleccione un cliente primero.\";\n          return;\n        }\n        if (!_this5.selectedProductId) {\n          _this5.error = \"Seleccione un producto.\";\n          return;\n        }\n        if (_this5.newQuantity <= 0) {\n          _this5.error = \"La cantidad debe ser mayor a 0.\";\n          return;\n        }\n        const prod = _this5.products.find(p => p.id === _this5.selectedProductId);\n        if (!prod) {\n          _this5.error = \"Producto no encontrado.\";\n          return;\n        }\n        const payload = {\n          productId: prod.id,\n          customerId: _this5.selectedCustomerId,\n          unitPrice: prod.unitPrice || 0,\n          quantity: _this5.newQuantity\n        };\n        try {\n          yield _this5.salesSvc.addCartDetail(payload);\n          _this5.success = \"Producto agregado al carrito.\";\n          _this5.newQuantity = 1;\n          yield _this5.loadCart();\n        } catch (err) {\n          console.error(\"Error al agregar al carrito:\", err);\n          _this5.error = \"No se pudo agregar el producto al carrito\";\n        }\n      })();\n    }\n    updateItem(item) {\n      var _this6 = this;\n      return _asyncToGenerator(function* () {\n        _this6.success = \"\";\n        _this6.error = \"\";\n        if (!_this6.selectedCustomerId) return;\n        if (item.quantity <= 0) {\n          _this6.error = \"La cantidad debe ser mayor a 0.\";\n          return;\n        }\n        const payload = {\n          productId: item.productId,\n          customerId: _this6.selectedCustomerId,\n          unitPrice: item.unitPrice,\n          quantity: item.quantity\n        };\n        try {\n          yield _this6.salesSvc.updateCartDetail(payload);\n          _this6.success = \"Detalle actualizado.\";\n          // por si el backend toca algo (descuentos, etc.), recargamos\n          yield _this6.loadCart();\n        } catch (err) {\n          console.error(\"Error al actualizar detalle:\", err);\n          _this6.error = \"No se pudo actualizar el detalle.\";\n        }\n      })();\n    }\n    deleteItem(item) {\n      var _this7 = this;\n      return _asyncToGenerator(function* () {\n        _this7.success = \"\";\n        _this7.error = \"\";\n        if (!_this7.selectedCustomerId) return;\n        const ok = confirm(`Â¿Eliminar del carrito el producto \"${item.productName}\"?`);\n        if (!ok) return;\n        try {\n          yield _this7.salesSvc.deleteCartDetail(_this7.selectedCustomerId, item.productId);\n          _this7.success = \"Producto eliminado del carrito.\";\n          yield _this7.loadCart();\n        } catch (err) {\n          console.error(\"Error al eliminar detalle:\", err);\n          _this7.error = \"No se pudo eliminar el producto del carrito.\";\n        }\n      })();\n    }\n    clearCart() {\n      var _this8 = this;\n      return _asyncToGenerator(function* () {\n        _this8.success = \"\";\n        _this8.error = \"\";\n        if (!_this8.selectedCustomerId) return;\n        const ok = confirm(\"Â¿Vaciar todo el carrito de este cliente?\");\n        if (!ok) return;\n        try {\n          yield _this8.salesSvc.clearCartByCustomer(_this8.selectedCustomerId);\n          _this8.success = \"Carrito vaciado.\";\n          yield _this8.loadCart();\n        } catch (err) {\n          console.error(\"Error al limpiar carrito:\", err);\n          _this8.error = \"No se pudo limpiar el carrito.\";\n        }\n      })();\n    }\n    // ================== CREAR ORDEN + PDF ==================\n    createOrder() {\n      var _this9 = this;\n      return _asyncToGenerator(function* () {\n        _this9.success = \"\";\n        _this9.error = \"\";\n        if (!_this9.selectedCustomerId) {\n          _this9.error = \"Seleccione un cliente.\";\n          return;\n        }\n        if (!_this9.cartItems.length) {\n          _this9.error = \"El carrito estÃ¡ vacÃ­o.\";\n          return;\n        }\n        if (!_this9.shipAddress.trim() || !_this9.shipCity.trim() || !_this9.shipCountry.trim() || !_this9.shipPostalCode.trim()) {\n          _this9.error = \"Complete todos los datos de envÃ­o.\";\n          return;\n        }\n        const payload = {\n          customerId: _this9.selectedCustomerId,\n          shipAddress: _this9.shipAddress.trim(),\n          shipCity: _this9.shipCity.trim(),\n          shipCountry: _this9.shipCountry.trim(),\n          shipPostalCode: _this9.shipPostalCode.trim(),\n          orderDetails: _this9.cartItems.map(it => ({\n            productId: it.productId,\n            unitPrice: it.unitPrice,\n            quantity: it.quantity\n          }))\n        };\n        console.log(\"ðŸ“¦ Payload a /CreateOrder:\", JSON.stringify(payload, null, 2));\n        try {\n          const resp = yield _this9.salesSvc.createOrder(payload);\n          const invoiceNumber = resp?.orderId || resp?.id || new Date().getTime();\n          _this9.success = \"Orden creada correctamente.\";\n          _this9.generateInvoicePdf(invoiceNumber);\n          yield _this9.loadCart();\n        } catch (err) {\n          console.error(\"Error al crear orden:\", err);\n          if (err?.error) {\n            console.log(\"Detalle del error del backend:\", err.error);\n            console.log(\"Detalle JSON:\", JSON.stringify(err.error, null, 2));\n          }\n          const backend = err?.error;\n          const detail = backend?.detail;\n          const modelErrors = backend?.errors;\n          if (detail) {\n            _this9.error = detail;\n          } else if (modelErrors) {\n            const mensajes = [];\n            for (const key of Object.keys(modelErrors)) {\n              const arr = modelErrors[key];\n              if (Array.isArray(arr)) {\n                mensajes.push(`${key}: ${arr.join(\", \")}`);\n              }\n            }\n            _this9.error = mensajes.join(\" | \") || \"Error en los datos de la orden.\";\n          } else if (backend?.title) {\n            _this9.error = backend.title;\n          } else {\n            _this9.error = \"No se pudo crear la orden (400). Revisa la consola para mÃ¡s detalles.\";\n          }\n        }\n      })();\n    }\n    // ================== GENERAR PDF ==================\n    generateInvoicePdf(invoiceNumber) {\n      const doc = new jsPDF();\n      const fecha = new Date().toLocaleString();\n      const customer = this.getSelectedCustomer();\n      const fullName = customer ? `${customer.firstName || \"\"} ${customer.lastName || \"\"}`.trim() : this.selectedCustomerId;\n      const cedula = customer?.cedula || \"\";\n      const email = customer?.email || \"\";\n      const phone = customer?.phoneNumber || \"\";\n      // ============= ENCABEZADO =============\n      doc.setFillColor(30, 64, 175);\n      doc.rect(0, 0, 210, 25, \"F\");\n      doc.setFontSize(18);\n      doc.setTextColor(255, 255, 255);\n      doc.text(\"Northwind Sales\", 14, 16);\n      doc.setFontSize(11);\n      doc.setTextColor(255, 255, 255);\n      doc.text(`Factura NÂ°: ${invoiceNumber}`, 210 - 14, 10, {\n        align: \"right\"\n      });\n      doc.text(`Fecha: ${fecha}`, 210 - 14, 16, {\n        align: \"right\"\n      });\n      doc.setFontSize(16);\n      doc.setTextColor(40, 40, 40);\n      doc.text(\"FACTURA DE VENTA\", 105, 35, {\n        align: \"center\"\n      });\n      // ============= DATOS CLIENTE / ENVÃO =============\n      const boxStartY = 42;\n      doc.setDrawColor(200, 200, 200);\n      doc.setLineWidth(0.3);\n      doc.roundedRect(14, boxStartY, 90, 50, 2, 2);\n      doc.setFontSize(11);\n      doc.setTextColor(80, 80, 80);\n      doc.text(\"Datos del Cliente\", 16, boxStartY + 6);\n      doc.setFontSize(10);\n      let y = boxStartY + 14;\n      doc.text(`Cliente: ${fullName}`, 16, y);\n      if (cedula) {\n        y += 6;\n        doc.text(`CÃ©dula: ${cedula}`, 16, y);\n      }\n      if (email) {\n        y += 6;\n        doc.text(`Email: ${email}`, 16, y);\n      }\n      if (phone) {\n        y += 6;\n        doc.text(`TelÃ©fono: ${phone}`, 16, y);\n      }\n      doc.roundedRect(110, boxStartY, 86, 40, 2, 2);\n      doc.setFontSize(11);\n      doc.text(\"Datos de EnvÃ­o\", 112, boxStartY + 6);\n      doc.setFontSize(10);\n      doc.text(`DirecciÃ³n: ${this.shipAddress}`, 112, boxStartY + 14);\n      doc.text(`Ciudad: ${this.shipCity}`, 112, boxStartY + 20);\n      doc.text(`PaÃ­s: ${this.shipCountry}`, 112, boxStartY + 26);\n      doc.text(`CÃ³d. Postal: ${this.shipPostalCode}`, 112, boxStartY + 32);\n      // ============= TABLA DE DETALLES =============\n      const body = this.cartItems.map(it => [it.productName, it.quantity, `$ ${(it.unitPrice || 0).toFixed(2)}`, `$ ${((it.unitPrice || 0) * (it.quantity || 0)).toFixed(2)}`]);\n      autoTable(doc, {\n        startY: boxStartY + 55,\n        head: [[\"Producto\", \"Cant.\", \"Precio Unit.\", \"Subtotal\"]],\n        body,\n        styles: {\n          fontSize: 10,\n          cellPadding: 3\n        },\n        headStyles: {\n          fillColor: [30, 64, 175],\n          textColor: 255,\n          halign: \"center\"\n        },\n        alternateRowStyles: {\n          fillColor: [245, 248, 255]\n        },\n        columnStyles: {\n          1: {\n            halign: \"center\",\n            cellWidth: 20\n          },\n          2: {\n            halign: \"right\",\n            cellWidth: 30\n          },\n          3: {\n            halign: \"right\",\n            cellWidth: 30\n          }\n        }\n      });\n      // ============= RESUMEN DE TOTALES =============\n      const finalY = doc.lastAutoTable?.finalY || 100;\n      const resumenX = 120;\n      const resumenW = 76;\n      const resumenH = 30;\n      doc.setDrawColor(200, 200, 200);\n      doc.roundedRect(resumenX, finalY + 6, resumenW, resumenH, 2, 2);\n      doc.setFontSize(11);\n      doc.setTextColor(60, 60, 60);\n      const line1Y = finalY + 14;\n      const line2Y = finalY + 20;\n      const line3Y = finalY + 26;\n      doc.text(\"Subtotal:\", resumenX + 4, line1Y);\n      doc.text(\"IVA (15%):\", resumenX + 4, line2Y);\n      doc.text(\"TOTAL:\", resumenX + 4, line3Y);\n      doc.setFontSize(11);\n      doc.setTextColor(0, 0, 0);\n      doc.text(`$ ${this.cartSubtotal.toFixed(2)}`, resumenX + resumenW - 4, line1Y, {\n        align: \"right\"\n      });\n      doc.text(`$ ${this.cartIVA.toFixed(2)}`, resumenX + resumenW - 4, line2Y, {\n        align: \"right\"\n      });\n      doc.setFontSize(12);\n      doc.setTextColor(30, 64, 175);\n      doc.text(`$ ${this.cartTotalPagar.toFixed(2)}`, resumenX + resumenW - 4, line3Y, {\n        align: \"right\"\n      });\n      doc.setFontSize(9);\n      doc.setTextColor(130, 130, 130);\n      doc.text(\"Gracias por su compra.\", 14, 290);\n      doc.text(\"Northwind Sales - Sistema de Ventas\", 210 - 14, 290, {\n        align: \"right\"\n      });\n      doc.save(`factura_${invoiceNumber}.pdf`);\n    }\n    static {\n      this.Éµfac = function SalesComponent_Factory(t) {\n        return new (t || SalesComponent)(i0.ÉµÉµdirectiveInject(i1.SalesService), i0.ÉµÉµdirectiveInject(i2.ProductService), i0.ÉµÉµdirectiveInject(i3.CustomerService));\n      };\n    }\n    static {\n      this.Éµcmp = /*@__PURE__*/i0.ÉµÉµdefineComponent({\n        type: SalesComponent,\n        selectors: [[\"app-sales\"]],\n        decls: 7,\n        vars: 6,\n        consts: [[1, \"customers-wrapper\"], [4, \"ngIf\"], [\"class\", \"error-backdrop\", 4, \"ngIf\"], [\"class\", \"modal-backdrop\", 4, \"ngIf\"], [1, \"error-backdrop\"], [1, \"error-box-modal\"], [1, \"close-error-btn\", 3, \"click\"], [1, \"btn-secondary\", 3, \"click\"], [1, \"header-row\"], [1, \"action-btn-primary\", 3, \"click\"], [\"class\", \"customers-table\", 4, \"ngIf\"], [\"style\", \"margin-top:20px;\", 4, \"ngIf\"], [1, \"customers-table\"], [4, \"ngFor\", \"ngForOf\"], [1, \"action-btn-edit\", 3, \"click\"], [1, \"action-btn-delete\", 3, \"click\"], [2, \"margin-top\", \"20px\"], [1, \"modal-backdrop\"], [1, \"modal-box\"], [1, \"customer-form\", 3, \"ngSubmit\"], [1, \"row\"], [\"type\", \"text\", \"name\", \"firstName\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [\"nameInput\", \"ngModel\"], [\"class\", \"validation-msg\", 4, \"ngIf\"], [\"type\", \"text\", \"name\", \"lastName\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [\"lastNameInput\", \"ngModel\"], [\"type\", \"email\", \"name\", \"email\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"emailInput\", \"ngModel\"], [\"type\", \"password\", \"name\", \"password\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"passInput\", \"ngModel\"], [\"type\", \"text\", \"name\", \"cedula\", 3, \"ngModel\", \"ngModelChange\"], [1, \"buttons-row\"], [\"type\", \"button\", 1, \"btn-secondary\", 3, \"click\"], [\"type\", \"submit\", 1, \"btn-primary\"], [1, \"validation-msg\"], [\"type\", \"text\", \"name\", \"editFirstName\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [\"editNameInput\", \"ngModel\"], [\"type\", \"text\", \"name\", \"editLastName\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [\"editLastNameInput\", \"ngModel\"], [\"type\", \"email\", \"name\", \"editEmail\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"editEmailInput\", \"ngModel\"], [\"type\", \"text\", \"name\", \"editCedula\", 3, \"ngModel\", \"ngModelChange\"], [1, \"modal-box\", \"text-center\"], [1, \"buttons-row\", \"buttons-center\"], [\"type\", \"button\", 1, \"btn-danger\", 3, \"click\"]],\n        template: function SalesComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ÉµÉµelementStart(0, \"div\", 0);\n            i0.ÉµÉµtemplate(1, SalesComponent_div_1_Template, 2, 0, \"div\", 1);\n            i0.ÉµÉµtemplate(2, SalesComponent_div_2_Template, 10, 1, \"div\", 2);\n            i0.ÉµÉµtemplate(3, SalesComponent_div_3_Template, 8, 2, \"div\", 1);\n            i0.ÉµÉµelementEnd();\n            i0.ÉµÉµtemplate(4, SalesComponent_div_4_Template, 42, 21, \"div\", 3);\n            i0.ÉµÉµtemplate(5, SalesComponent_div_5_Template, 33, 14, \"div\", 3);\n            i0.ÉµÉµtemplate(6, SalesComponent_div_6_Template, 16, 2, \"div\", 3);\n          }\n          if (rf & 2) {\n            i0.ÉµÉµadvance(1);\n            i0.ÉµÉµproperty(\"ngIf\", ctx.loading);\n            i0.ÉµÉµadvance(1);\n            i0.ÉµÉµproperty(\"ngIf\", ctx.error);\n            i0.ÉµÉµadvance(1);\n            i0.ÉµÉµproperty(\"ngIf\", !ctx.loading);\n            i0.ÉµÉµadvance(1);\n            i0.ÉµÉµproperty(\"ngIf\", ctx.isCreateModalOpen);\n            i0.ÉµÉµadvance(1);\n            i0.ÉµÉµproperty(\"ngIf\", ctx.isEditModalOpen);\n            i0.ÉµÉµadvance(1);\n            i0.ÉµÉµproperty(\"ngIf\", ctx.isDeleteModalOpen);\n          }\n        },\n        dependencies: [i4.NgForOf, i4.NgIf, i5.ÉµNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.NgModel, i5.NgForm],\n        styles: [\".customers-wrapper[_ngcontent-%COMP%]{width:100%;font-family:Arial,sans-serif}.header-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.header-row[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#1e293b}.customers-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:14px}.customers-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .customers-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ececec;padding:10px 12px;text-align:left}.customers-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f1f5f9;color:#334155}.error-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.6);display:flex;justify-content:center;align-items:center;z-index:3000}.error-box-modal[_ngcontent-%COMP%]{background:#fee2e2;color:#b91c1c;padding:25px;border-radius:8px;width:400px;text-align:center;box-shadow:0 5px 15px #0000004d;position:relative}.close-error-btn[_ngcontent-%COMP%]{position:absolute;top:5px;right:10px;background:transparent;border:none;font-size:18px;cursor:pointer;color:#b91c1c;font-weight:700}.action-btn-primary[_ngcontent-%COMP%]{background-color:#2563eb;color:#fff;border:none;padding:10px 16px;border-radius:6px;cursor:pointer;font-weight:700}.action-btn-primary[_ngcontent-%COMP%]:hover{background-color:#1d4ed8}.action-btn-edit[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;border:none;padding:6px 10px;border-radius:4px;margin-right:5px;cursor:pointer}.action-btn-edit[_ngcontent-%COMP%]:hover{background-color:#2c82c9}.action-btn-delete[_ngcontent-%COMP%]{background-color:#e74c3c;color:#fff;border:none;padding:6px 10px;border-radius:4px;cursor:pointer}.action-btn-delete[_ngcontent-%COMP%]:hover{background-color:#c0392b}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.55);display:flex;justify-content:center;align-items:center;z-index:2000}.modal-box[_ngcontent-%COMP%]{width:450px;background:white;border-radius:10px;padding:24px;box-shadow:0 5px 18px #0003;animation:_ngcontent-%COMP%_modalPop .25s ease;max-height:90vh;overflow-y:auto}@keyframes _ngcontent-%COMP%_modalPop{0%{transform:scale(.9);opacity:0}to{transform:scale(1);opacity:1}}.customer-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px}.row[_ngcontent-%COMP%]{display:flex;flex-direction:column}.row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;font-size:14px;color:#334155}.row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:9px 12px;border:1px solid #cbd5e1;border-radius:6px;font-size:14px}.row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:2px solid #2563eb;border-color:#2563eb}.input-error[_ngcontent-%COMP%]{border:1px solid #e74c3c!important;background-color:#fff5f5}.input-error[_ngcontent-%COMP%]:focus{outline:2px solid #e74c3c!important}.validation-msg[_ngcontent-%COMP%]{color:#e74c3c;font-size:12px;margin-top:4px;display:block}.buttons-row[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:10px}.buttons-center[_ngcontent-%COMP%]{justify-content:center}.btn-primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff;padding:9px 14px;border:none;border-radius:6px;cursor:pointer;font-weight:700}.btn-primary[_ngcontent-%COMP%]:hover{background:#1d4ed8}.btn-secondary[_ngcontent-%COMP%]{background:#64748b;color:#fff;padding:9px 14px;border:none;border-radius:6px;cursor:pointer}.btn-secondary[_ngcontent-%COMP%]:hover{background:#475569}.btn-danger[_ngcontent-%COMP%]{background:#e74c3c;color:#fff;padding:9px 14px;border:none;border-radius:6px;font-weight:700;cursor:pointer}.btn-danger[_ngcontent-%COMP%]:hover{background:#c0392b}.text-center[_ngcontent-%COMP%]{text-align:center}\"]\n      });\n    }\n  }\n  return SalesComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}